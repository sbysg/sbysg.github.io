<!-- build time: Sat Nov 04 2023 21:46:07 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><meta name="msvalidate.01" content="1234"><link rel="alternate" href="/rss.xml" title="å¤¢ã®ãªã„è³¢é­šã§ã™" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="å¤¢ã®ãªã„è³¢é­šã§ã™" type="application/atom+xml"><link rel="alternate" type="application/json" title="å¤¢ã®ãªã„è³¢é­šã§ã™" href="https://sbysg.github.io/feed.json"><link rel="preconnect" href="https://lf9-cdn-tos.bytecdntp.com"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://unpkg.com"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.3.6"><script src="https://cdn.staticfile.org/vue/3.2.45/vue.global.prod.js"></script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><meta name="keywords" content="RabbitMQ,"><link rel="canonical" href="https://sbysg.github.io/2023/10/22/linux/docker/rabbitMQ/RabbitMQ/"><title>rabbitMQ</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">rabbitMQ</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2023-10-22 00:09:40"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">å‘è¡¨äº</span><time itemprop="dateCreated datePublished" datetime="2023-10-22T00:09:40+08:00">2023-10-22</time></span><span class="item" title="æœ¬æ–‡å­—æ•°"><span class="icon"><i class="ic i-pen"></i></span><span class="text">æœ¬æ–‡å­—æ•°</span><span>15k</span><span class="text">å­—</span></span><span class="item" title="é˜…è¯»æ—¶é•¿"><span class="icon"><i class="ic i-clock"></i></span><span class="text">é˜…è¯»æ—¶é•¿</span><span>13 åˆ†é’Ÿ</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Ya Hallo</a></li></ul><ul class="right" id="rightNav"><li class="item theme" @click="changeThemeByBtn"><i class="ic" :class="{'i-sun': !themeStatus,'i-moon': themeStatus}"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><ul><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclg5ms2rj20zk0m8u0x.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclwrdwyaj20zk0m8are.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclh0m9pdj20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipetfk5zwj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipeyvx1d4j20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclfw2t96j20zk0m8x6p.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemlistelement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i><span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/linux/" itemprop="item" rel="index" title="åˆ†ç±»äºLinux"><span itemprop="name">Linux<meta itemprop="position" content="0"></span></a></span><i class="ic i-angle-right"></i><span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/linux/docker/" itemprop="item" rel="index" title="åˆ†ç±»äºDocker"><span itemprop="name">Docker<meta itemprop="position" content="1"></span></a></span></div><article class="post block" itemscope itemtype="http://schema.org/Article" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://sbysg.github.io/2023/10/22/linux/docker/rabbitMQ/RabbitMQ/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"><meta itemprop="name" content="biya"><meta itemprop="description" content="biya, æ‘¸é±¼ä¹‹é“ï¼Œå°±åœ¨å…¶ä¸­"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="å¤¢ã®ãªã„è³¢é­šã§ã™"></span><div class="body md" itemprop="articleBody"><div class="tabs" id="summary"><div class="show-btn"></div><div class="nav"><ul class="special"></ul></div><div class="tab" data-id="summary" data-title="è‡ªæˆ‘ä»‹ç»"><p>æˆ‘æ˜¯åŸºäºChatGPT-turbo-3.5å®ç°çš„AIåŠ©æ‰‹ï¼Œåœ¨æ­¤ç½‘ç«™ä¸Šè´Ÿè´£æ•´ç†å’Œæ¦‚æ‹¬æ–‡ç« </p></div><div class="tab active" data-id="summary" data-title="æ–‡ç« æ¦‚æ‹¬"><p></p></div></div><h2 id="ä¸€-mq"><a class="anchor" href="#ä¸€-mq">#</a> ä¸€ã€MQ</h2><h3 id="11-mq"><a class="anchor" href="#11-mq">#</a> 1.1 MQ</h3><ul><li>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼Œç®€ç§° MQï¼‰ï¼Œä»å­—é¢æ„æ€ä¸Šçœ‹ï¼Œæœ¬è´¨æ˜¯ä¸ªé˜Ÿåˆ—ï¼ŒFIFO å…ˆå…¥å…ˆå‡ºï¼Œåªä¸è¿‡é˜Ÿåˆ—ä¸­å­˜æ”¾çš„å†…å®¹æ˜¯ message è€Œå·²ã€‚<br>å…¶ä¸»è¦ç”¨é€”ï¼šä¸åŒè¿›ç¨‹ Process / çº¿ç¨‹ Thread ä¹‹é—´é€šä¿¡ã€‚</li></ul><p>RabbitMQ æ˜¯è½»é‡çº§çš„ï¼Œæ˜“äºåœ¨æœ¬åœ°éƒ¨ç½² åœ¨äº‘ä¸­ã€‚å®ƒæ”¯æŒå¤šç§æ¶ˆæ¯ä¼ é€’ åè®®å’Œ<span class="exturl" data-url="aHR0cHM6Ly93d3cucmFiYml0bXEuY29tL3N0cmVhbXMuaHRtbA==">æµå¼å¤„ç†</span>ã€‚RabbitMQ å¯ä»¥éƒ¨ç½²åœ¨åˆ†å¸ƒå¼å’Œ è”åˆé…ç½®ï¼Œæ»¡è¶³å¤§è§„æ¨¡ã€ é«˜å¯ç”¨æ€§è¦æ±‚ã€‚</p><h3 id="12-rabbitmq"><a class="anchor" href="#12-rabbitmq">#</a> 1.2 RabbitMQ</h3><p>æœ¬åœ°åœ°å€ + ç«¯å£å·</p><p>ç«¯å£å·ï¼šå¯è§†åŒ–é¡µé¢ï¼š15672 ä»£ç ä¸­ 5672</p><p>é»˜è®¤è´¦å·ï¼šguest</p><p>é»˜è®¤å¯†ç ï¼šguest</p><h3 id="13-åˆä½“éªŒ"><a class="anchor" href="#13-åˆä½“éªŒ">#</a> 1.3 åˆä½“éªŒ</h3><p>1. ä¾èµ– jar</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!--        RabbitMQ --></span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>2. å®ç°é…ç½®</p><figure class="highlight yaml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token key atrule">spring</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token key atrule">host</span><span class="token punctuation">:</span> 110.40.192.129</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token key atrule">username</span><span class="token punctuation">:</span> guest</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token key atrule">password</span><span class="token punctuation">:</span> guest</pre></td></tr></table></figure><p>3. ç¼–å†™ä»£ç </p><p>â€‹	åˆ›å»ºé˜Ÿåˆ—</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Configuration</span> <span class="token comment">// é…ç½® ç±»ä¼¼ beans æ ‡ç­¾</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RabbitMQConfig</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment">// åˆ›å»ºé˜Ÿåˆ—</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token annotation punctuation">@Bean</span> <span class="token comment">// IOC bean æ ‡ç­¾</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">createQ1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token string">"j2310-lx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>â€‹	æ¶ˆæ¯å‘é€</p><pre><code class="language-Java">@RestController
public class MqSendController &#123;
    @Resource
    private RabbitTemplate template;

    @GetMapping(&quot;send1&quot;)
    public String send1(String msg)&#123;
        //å‘é€æ¶ˆæ¯
        template.convertAndSend(&quot;&quot;,&quot;j2310-lx&quot;,msg);
        return &quot;OK&quot;;
    &#125;
&#125;
</code></pre><p>â€‹	æ¶ˆæ¯æ¥æ”¶</p><pre><code class="language-Java">@Slf4j
@Component //IOC
public class MsgListener &#123;
    @RabbitListener(queues = &quot;j2310-lx&quot;)
    public void hander(String msg)&#123;
        log.info(&quot;æ¶ˆè´¹è€…è·å–æ¶ˆæ¯&#123;&#125;&quot;,msg);
    &#125;
&#125;
</code></pre><p>4. è¿è¡Œæµ‹è¯•</p><p><img data-src="/RabbitMQ.assets/image-20231013114715480.png" alt="image-20231013114715480"></p><p><img data-src="RabbitMQ.assets/image-20231013114726677.png" alt="image-20231013114726677"></p><h2 id="äºŒ-rabbitmqæ ¸å¿ƒ"><a class="anchor" href="#äºŒ-rabbitmqæ ¸å¿ƒ">#</a> äºŒã€RabbitMQ æ ¸å¿ƒ</h2><h3 id="21-æ¶ˆæ¯æ¨¡å¼-ç®€å•æ¶ˆæ¯"><a class="anchor" href="#21-æ¶ˆæ¯æ¨¡å¼-ç®€å•æ¶ˆæ¯">#</a> 2.1 æ¶ˆæ¯æ¨¡å¼ - ç®€å•æ¶ˆæ¯</h3><p>ç®€å•æ¶ˆæ¯ï¼š</p><p>ç‰¹ç‚¹ï¼šä¸€ä¸ªé˜Ÿåˆ—å¯¹åº”ä¸€ä¸ªæ¶ˆè´¹ç«¯ï¼Œä¸€ä¸ªæ¶ˆæ¯åªèƒ½è¢«æ¶ˆè´¹ 1 æ¬¡</p><p><img data-src="RabbitMQ.assets/image-20231101124636431.png" alt="image-20231101124636431"></p><p>ç¤ºä¾‹ï¼š</p><p>1. å®šä¹‰é˜Ÿåˆ—</p><p>2. å‘é€æ¶ˆæ¯ --- åˆ° --- é˜Ÿåˆ—ä¸­</p><p>3. ç›‘å¬æ¶ˆæ¯ --- ä» --- é˜Ÿåˆ—ä¸­</p><p>ä»£ç ï¼š</p><pre><code class="language-Java">//ç®€å•æ¶ˆæ¯
@Bean // IOC beanæ ‡ç­¾
public Queue createQ2()&#123;
    return new Queue(&quot;lx-p2p-1&quot;);
&#125;

@Resource
private RabbitTemplate template;
@GetMapping(&quot;send2&quot;)
public String send2(String msg)&#123;
        //å‘é€æ¶ˆæ¯
        template.convertAndSend(&quot;&quot;,&quot;lx-p2p-1&quot;,msg);
        return &quot;OK&quot;;
&#125;
 
    @RabbitListener(queues = &quot;lx-p2p-1&quot;)
    public void hander2(String msg)&#123;
        log.info(&quot;æ™®é€šæ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…ï¼Œè·å–æ¶ˆæ¯ï¼Œ&#123;&#125;&quot;,msg);
    &#125;
</code></pre><h3 id="22-æ¶ˆæ¯æ¨¡å¼-workæ¶ˆæ¯"><a class="anchor" href="#22-æ¶ˆæ¯æ¨¡å¼-workæ¶ˆæ¯">#</a> 2.2 æ¶ˆæ¯æ¨¡å¼ - Work æ¶ˆæ¯</h3><p>Work æ¶ˆæ¯ï¼šä¸€ä¸ªé˜Ÿåˆ—å¯ä»¥æœ‰å¤šä¸ªæ¶ˆè´¹ç«¯ï¼Œ1 ä¸ªæ¶ˆæ¯åªèƒ½æ¶ˆè´¹ 1 æ¬¡ï¼Œå¤šä¸ªæ¶ˆè´¹è€…æ˜¯æŒ‰ç…§è½®è¯¢çš„å½¢å¼è½®æµè·å–æ¶ˆæ¯</p><p>å¯ä»¥è§£å†³ï¼šæ¶ˆæ¯å †ç§¯ï¼ˆå‘çš„å¿«ï¼Œæ¶ˆè´¹çš„æ…¢ï¼‰</p><p><img data-src="RabbitMQ.assets/image-20231013141853817.png" alt="image-20231013141853817"></p><p>ç¤ºä¾‹ï¼š</p><pre><code class="language-Java">//Workæ¶ˆæ¯
@Bean // IOC beanæ ‡ç­¾
public Queue createQ3()&#123;
    return new Queue(&quot;lx-work-1&quot;);
&#125;

@Resource
    private RabbitTemplate template;
    @GetMapping(&quot;send3&quot;)
    public String send3(String msg)&#123;
        //å‘é€æ¶ˆæ¯
        template.convertAndSend(&quot;&quot;,&quot;lx-work-1&quot;,msg);
        return &quot;OK&quot;;
    &#125;
@RabbitListener(queues = &quot;lx-work-1&quot;)
    public void hander3(String msg)&#123;
        log.info(&quot;Workæ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…01ï¼Œè·å–æ¶ˆæ¯ï¼š&#123;&#125;&quot;,msg);
    &#125;
    @RabbitListener(queues = &quot;lx-work-1&quot;)
    public void hander4(String msg)&#123;
        log.info(&quot;Workæ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…02ï¼Œè·å–æ¶ˆæ¯ï¼š&#123;&#125;&quot;,msg);
    &#125;
</code></pre><h3 id="23æ¶ˆæ¯æ¨¡å¼-å‘å¸ƒè®¢é˜…"><a class="anchor" href="#23æ¶ˆæ¯æ¨¡å¼-å‘å¸ƒè®¢é˜…">#</a> 2.3. æ¶ˆæ¯æ¨¡å¼ - å‘å¸ƒè®¢é˜…</h3><p>å‘å¸ƒè®¢é˜…ï¼šå°±æ˜¯æ¶ˆæ¯å‘é€åˆ° Exchange (äº¤æ¢å™¨)ï¼Œäº¤æ¢å™¨å†æŠŠæ¶ˆæ¯å‘é€åˆ°äº¤æ¢å™¨ç»‘å®šçš„é˜Ÿåˆ—ä¸Šï¼Œ1 ä¸ªæ¶ˆæ¯å¯ä»¥ç»™å¤šä¸ªæ¶ˆè´¹è€…ï¼ˆå¤šä¸ªé˜Ÿåˆ—ä¸­ï¼‰è·å–</p><p>Exchange: äº¤æ¢å™¨ï¼Œæ˜¯ RabbitMQ ä¸€ä¸ªç»„æˆï¼Œå¯ä»¥æ¥æ”¶æ¶ˆæ¯ï¼Œç„¶åæ ¹æ®äº¤æ¢å™¨çš„ç±»å‹ï¼Œé€‰æ‹©å¯¹åº”çš„åŒ¹é…æ¨¡å¼ï¼ŒæŠŠåŒ¹é…åˆ°çš„æ¶ˆæ¯è½¬å‘åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­ã€‚</p><p>äº¤æ¢å™¨çš„ç±»å‹ï¼š</p><p>1.fanout ç›´æ¥è½¬å‘ï¼Œä¸å¯¹æ¶ˆæ¯åšåŒ¹é…å¤„ç†</p><p>2.direct è·¯ç”±åŒ¹é…ï¼Œå‘é€æ¶ˆæ¯æŒ‡å®š RoutingKey (ç²¾ç¡®)ï¼Œäº¤æ¢å™¨ç»‘å®šé˜Ÿåˆ—çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦æŒ‡å®š RoutingKey</p><p>3.topic è·¯ç”±åŒ¹é…ï¼Œå‘é€æ¶ˆæ¯æŒ‡å®š RoutingKey (æ¨¡ç³Šï¼Œæ”¯æŒ * #)ï¼Œäº¤æ¢å™¨ç»‘å®šé˜Ÿåˆ—çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦æŒ‡å®š RoutingKeyï¼Œ* ä¸€ä¸ªå•è¯ #ä»»æ„ä¸ªå•è¯</p><p>4.header æ¶ˆæ¯å¤´åŒ¹é…æ¨¡å¼ï¼Œå‘é€æ¶ˆæ¯çš„æ—¶å€™æŒ‡å®šæ¶ˆæ¯çš„è¯·æ±‚æ¶ˆæ¯å¤´ï¼Œäº¤æ¢å™¨ç»‘å®šé˜Ÿåˆ—çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦æŒ‡å®šå¯¹åº”çš„è¯·æ±‚æ¶ˆæ¯å¤´ï¼Œany ä»»æ„ä¸€ä¸ª all æ‰€æœ‰</p><p><img data-src="RabbitMQ.assets/image-20231101125635096.png" alt="image-20231101125635096"></p><p>ç¤ºä¾‹ï¼š</p><p>1. åˆ›å»ºé˜Ÿåˆ—</p><p>2. åˆ›å»ºäº¤æ¢å™¨</p><p>3. åˆ›å»ºäº¤æ¢å™¨å’Œé˜Ÿåˆ—çš„ç»‘å®š</p><p>4. å‘é€æ¶ˆæ¯</p><p>5. ç›‘å¬æ¶ˆæ¯</p><p>ä»£ç ï¼š</p><pre><code class="language-Java">@Configuration
public class FanoutConfig &#123;
    //1åˆ›å»ºé˜Ÿåˆ—
    @Bean
    public Queue createQfanout1()&#123;
        return new Queue(&quot;q-fanout-01&quot;);
    &#125;
    @Bean
    public Queue createQfanout2()&#123;
        return new Queue(&quot;q-fanout-02&quot;);
    &#125;
    //2.åˆ›å»ºäº¤æ¢å™¨
    @Bean
    public FanoutExchange createFe()&#123;
        return new FanoutExchange(&quot;ex-fanout-lx&quot;);
    &#125;
    //3.å®ç°ç»‘å®š
    @Bean
    public Binding createBf1(FanoutExchange fe)&#123;
        return  BindingBuilder.bind(createQfanout1()).to(fe);
    &#125;
    @Bean
    public Binding createBf2(FanoutExchange fe)&#123;
        return  BindingBuilder.bind(createQfanout2()).to(fe);
    &#125;
&#125;
</code></pre><pre><code class="language-Java">@RestController
public class FanoutController &#123;
    @Resource
    private RabbitTemplate template;

    @GetMapping(&quot;fanout1&quot;)
    public String f1(String msg)&#123;
        template.convertAndSend(&quot;ex-fanout-lx&quot;,&quot;&quot;,msg);
        return &quot;ok&quot;;
    &#125;
&#125;
</code></pre><pre><code class="language-Java">@RabbitListener(queues = &quot;q-fanout-01&quot;)
public void hander5(String msg)&#123;
    log.info(&quot;fanoutæ¶ˆæ¯ï¼Œ01é˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…ï¼Œè·å–æ¶ˆæ¯ï¼š&#123;&#125;&quot;,msg);
&#125;
@RabbitListener(queues = &quot;q-fanout-02&quot;)
public void hander6(String msg)&#123;
    log.info(&quot;fanoutæ¶ˆæ¯ï¼Œ02é˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…02ï¼Œè·å–æ¶ˆæ¯ï¼š&#123;&#125;&quot;,msg);
&#125;
</code></pre><p><img data-src="RabbitMQ.assets/image-20231013150514443.png" alt="image-20231013150514443"></p><h3 id="24-æ¶ˆæ¯æ¨¡å¼-è·¯ç”±åŒ¹é…"><a class="anchor" href="#24-æ¶ˆæ¯æ¨¡å¼-è·¯ç”±åŒ¹é…">#</a> 2.4 æ¶ˆæ¯æ¨¡å¼ - è·¯ç”±åŒ¹é…</h3><p>è·¯ç”±æ¶ˆæ¯ï¼šæ¶ˆæ¯è¢«å‘é€åˆ°äº¤æ¢å™¨ï¼Œäº¤æ¢å™¨çš„ç±»å‹ä¸º directï¼Œå¯ä»¥æ ¹æ®æ¶ˆæ¯çš„è·¯ç”±å…³é”®å­—è¿›è¡ŒåŒ¹é…ï¼Œè½¬å‘åˆ°åŒ¹é…çš„æ‰€æœ‰çš„é˜Ÿåˆ—</p><p>RoutingKey: è·¯ç”±å…³é”®å­—ï¼Œåªæ”¯æŒç²¾ç¡®çš„å€¼</p><p><img data-src="RabbitMQ.assets/image-20231013142052195.png" alt="image-20231013142052195"></p><p>ç¤ºä¾‹ï¼š</p><p>1. åˆ›å»ºé˜Ÿåˆ—</p><p>2. åˆ›å»ºäº¤æ¢å™¨ direct</p><p>3. åˆ›å»ºäº¤æ¢å™¨å’Œé˜Ÿåˆ—çš„ç»‘å®š æŒ‡å®š RK</p><p>4. å‘é€æ¶ˆæ¯ æŒ‡å®š RK</p><p>5. ç›‘å¬æ¶ˆæ¯</p><p>ä»£ç ï¼š</p><pre><code class="language-Java">@Configuration
public class DirectConfig &#123;
    //1åˆ›å»ºé˜Ÿåˆ—
    @Bean
    public Queue createQdirect1()&#123;
        return new Queue(&quot;q-direct-01&quot;);
    &#125;
    @Bean
    public Queue createQdirect2()&#123;
        return new Queue(&quot;q-direct-02&quot;);
    &#125;
    @Bean
    public Queue createQdirect3()&#123;
        return new Queue(&quot;q-direct-03&quot;);
    &#125;
    //2.åˆ›å»ºäº¤æ¢å™¨
    @Bean
    public DirectExchange createDe()&#123;
        return new DirectExchange(&quot;ex-direct-lx&quot;);
    &#125;
    //3.å®ç°ç»‘å®š
    @Bean
    public Binding createBd1(DirectExchange fe)&#123;
        return  BindingBuilder.bind(createQdirect1()).to(fe).with(&quot;error&quot;);
    &#125;
    @Bean
    public Binding createBd2(DirectExchange fe)&#123;
        return  BindingBuilder.bind(createQdirect2()).to(fe).with(&quot;info&quot;);
    &#125;
    @Bean
    public Binding createBd3(DirectExchange fe)&#123;
        return  BindingBuilder.bind(createQdirect3()).to(fe).with(&quot;info&quot;);
    &#125;

&#125;
</code></pre><pre><code class="language-Java">@GetMapping(&quot;direct1&quot;)
public String d1(String msg,String type)&#123;
    template.convertAndSend(&quot;ex-direct-lx&quot;,type,msg);
    return &quot;ok&quot;;
&#125;
</code></pre><p><img data-src="RabbitMQ.assets/image-20231013162331523.png" alt="image-20231013162331523"></p><h3 id="25-æ¶ˆæ¯æ¨¡å¼-ä¸»é¢˜æ¶ˆæ¯"><a class="anchor" href="#25-æ¶ˆæ¯æ¨¡å¼-ä¸»é¢˜æ¶ˆæ¯">#</a> 2.5 æ¶ˆæ¯æ¨¡å¼ - ä¸»é¢˜æ¶ˆæ¯</h3><p>ä¸»é¢˜æ¶ˆæ¯ï¼Œå°±æ˜¯äº¤æ¢å™¨çš„ç±»å‹ä¸º Topic, è·Ÿè·¯ç”±æ¨¡å¼çš„æ¶ˆæ¯ä¸€æ ·ï¼Œéƒ½æ˜¯é€šè¿‡ RoutingKey åŒ¹é…é˜Ÿåˆ—</p><p>åŒºåˆ«ï¼š</p><p>ä¸»é¢˜æ¶ˆæ¯ çš„ RK æ”¯æŒæ¨¡ç³Š</p><p>ç‰¹æ®Šç¬¦å·ï¼š åŒºåˆ†å•è¯æ˜¯é€šè¿‡ã€‚åŒºåˆ†çš„</p><p>* ä¸€ä¸ªå•è¯ï¼Œå•è¯å†…å®¹ä»»æ„</p><p>#ä»»æ„ä¸ªå•è¯ï¼Œå•è¯å†…å®¹ä»»æ„</p><p><img data-src="RabbitMQ.assets/image-20231013142127724.png" alt="image-20231013142127724"></p><p>ç¤ºä¾‹ï¼š</p><p>1. åˆ›å»ºé˜Ÿåˆ—</p><p>2. åˆ›å»ºäº¤æ¢å™¨ topic</p><p>3. åˆ›å»ºäº¤æ¢å™¨å’Œé˜Ÿåˆ—çš„ç»‘å®š æŒ‡å®š RK (æ”¯æŒæ¨¡ç³Š)</p><p>4. å‘é€æ¶ˆæ¯ æŒ‡å®š RK</p><p>5. ç›‘å¬æ¶ˆæ¯</p><pre><code class="language-Java">@Configuration
public class TopicConfig &#123;
    //1åˆ›å»ºé˜Ÿåˆ—
    @Bean
    public Queue createQtopic1()&#123;
        return new Queue(&quot;q-topic-01&quot;);
    &#125;
    @Bean
    public Queue createQtopic2()&#123;
        return new Queue(&quot;q-topic-02&quot;);
    &#125;
    //2.åˆ›å»ºäº¤æ¢å™¨
    @Bean
    public TopicExchange createTe()&#123;
        return new TopicExchange(&quot;ex-topic-lx&quot;);
    &#125;
    //3.å®ç°ç»‘å®š
    @Bean
    public Binding createBt1(TopicExchange fe)&#123;
        //* ä¸€ä¸ªå•è¯
        return  BindingBuilder.bind(createQtopic1()).to(fe).with(&quot;error.*&quot;);
    &#125;
    @Bean
    public Binding createBt2(TopicExchange fe)&#123;
        //# ä»»æ„ä¸ªå•è¯ 0-å¤šä¸ª
        return  BindingBuilder.bind(createQtopic2()).to(fe).with(&quot;info.#&quot;);
    &#125;
&#125;
</code></pre><pre><code class="language-Java">@RestController
public class TopicController &#123;
    @Resource
    private RabbitTemplate template;

    @GetMapping(&quot;topic1&quot;)
    public String f1(String msg,String rk)&#123;
        template.convertAndSend(&quot;ex-topic-lx&quot;,rk,msg);
        return &quot;ok&quot;;
    &#125;
&#125;
</code></pre><p><img data-src="RabbitMQ.assets/image-20231013164017687.png" alt="image-20231013164017687"></p><h3 id="26-æ­»ä¿¡å»¶è¿Ÿæ¶ˆæ¯"><a class="anchor" href="#26-æ­»ä¿¡å»¶è¿Ÿæ¶ˆæ¯">#</a> 2.6 æ­»ä¿¡ + å»¶è¿Ÿæ¶ˆæ¯</h3><p>æ­»ä¿¡ï¼šRabbitMQ çš„é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ï¼Œæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä»»æ„å…¶ä¸€ï¼Œå°±ä¼šæˆä¸ºæ­»ä¿¡æ¶ˆæ¯</p><p>â€‹ 1. æ¶ˆæ¯è¢«æ‹’ç»</p><p>â€‹ 2. æ¶ˆæ¯è¿‡æœŸ</p><p>â€‹ 3. é˜Ÿåˆ—å·²æ»¡</p><p>æ­»ä¿¡äº¤æ¢å™¨ï¼šä¸“é—¨ç”¨æ¥è½¬å‘é˜Ÿåˆ—ä¸­çš„æ­»ä¿¡æ¶ˆæ¯ï¼Œå°†æ­»ä¿¡æ¶ˆæ¯è½¬å‘åˆ°æŒ‡å®šçš„é˜Ÿåˆ—ä¸­</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ­»ä¿¡ + æ­»ä¿¡äº¤æ¢å™¨å®ç°å»¶è¿Ÿæ¶ˆæ¯å¤„ç†</p><p>RabbitMQ å®ç°å»¶è¿Ÿæ¶ˆæ¯å¤„ç†ğŸˆ¶2 ç§æ–¹å¼ï¼š</p><p>1. æ­»ä¿¡ + æ­»ä¿¡äº¤æ¢å™¨ ä»£ç å®ç°</p><p>2. å»¶è¿Ÿæ¶ˆæ¯æ’ä»¶</p><p>RabbitMQ åŸºäºæ­»ä¿¡å’Œæ­»ä¿¡äº¤æ¢å™¨å®ç°å»¶è¿Ÿï¼š</p><p>&lt;img src=&quot;RabbitMQ.assets/image-20231016113011364.png&quot; alt=&quot;image-20231016113011364&quot; style=&quot;zoom:67%;&quot; /&gt;</p><p>1. å®šä¹‰éœ€è¦çš„é˜Ÿåˆ—ã€äº¤æ¢å™¨ã€ç»‘å®š</p><pre><code class="language-Java">@Configuration
public class RabbitMQConfig &#123;
    //1.åˆ›å»º2ä¸ªé˜Ÿåˆ—
    @Bean
    public Queue createQ1()&#123;
        //1.è®¾ç½®é˜Ÿåˆ— å†…éƒ¨æ¶ˆæ¯æœ‰æ•ˆæœŸ è®¾ç½®æ­»ä¿¡äº¤æ¢å™¨ è®¾ç½®RK
        Map&lt;String,Object&gt; params=new HashMap&lt;&gt;();
        //è®¾ç½®é˜Ÿåˆ—ä¸­æ¯ä¸ªæ¶ˆæ¯çš„æœ‰æ•ˆæœŸ å•ä½ æ¯«ç§’
        params.put(&quot;x-message-ttl&quot;,3000);
        //è®¾ç½®å¯¹åº”çš„æ­»ä¿¡äº¤æ¢å™¨
        params.put(&quot;x-dead-letter-exchange&quot;,&quot;dead-ex-lx&quot;);
        //è®¾ç½®äº¤æ¢å™¨åŒ¹é…çš„è·¯ç”±åç§°
        params.put(&quot;x-dead-letter-routing-key&quot;,&quot;test&quot;);
        return QueueBuilder.durable(&quot;dl-q01&quot;).withArguments(params).build();
    &#125;
    @Bean
    public Queue createQ2()&#123;
        return new Queue(&quot;dl-q02&quot;);
    &#125;
    //2.åˆ›å»º1ä¸ªäº¤æ¢å™¨ï¼ˆ1.fanout 2.direct 3.topic 4.headerï¼‰-æ­»ä¿¡äº¤æ¢å™¨directç±»å‹
    @Bean
    public DirectExchange createDe()&#123;
        return new DirectExchange(&quot;dead-ex-lx&quot;);
    &#125;
    //3.åˆ›å»º1ä¸ªç»‘å®š
    @Bean
    public Binding createBd1(DirectExchange de)&#123;
        return BindingBuilder.bind(createQ2()).to(de).with(&quot;test&quot;);
    &#125;
&#125;
</code></pre><p>2. å‘é€æ¶ˆæ¯ æ¶ˆæ¯ç»™åˆ°ç¬¬ä¸€ä¸ªé˜Ÿåˆ—</p><pre><code class="language-Java">@RestController
@RequestMapping(&quot;/api/mq/&quot;)
public class DeadController &#123;
    
    @Resource
    private RabbitTemplate template;

    @GetMapping(&quot;send&quot;)
    public String sendDead(String msg)&#123;
        System.err.println(&quot;å‘é€æ¶ˆæ¯ï¼Œ&quot;+msg+&quot;ï¼Œå‘é€æ—¶é—´ï¼š&quot;+System.currentTimeMillis());
        template.convertAndSend(&quot;&quot;,&quot;dl-q01&quot;,msg);
        return &quot;OK&quot;;
    &#125;
&#125;
</code></pre><p>3. ç›‘å¬æ¶ˆæ¯ æ¶ˆè´¹ ç›‘å¬ç¬¬äºŒä¸ªé˜Ÿåˆ—</p><pre><code class="language-Java">@Component
public class DeadListener &#123;

    @RabbitListener(queues = &quot;dl-q02&quot;)
    public void hanlder(String m)&#123;
        System.err.println(&quot;å»¶è¿Ÿæ¶ˆæ¯ï¼Œ&quot;+m+&quot;ï¼Œæ¥æ”¶æ—¶é—´ï¼š&quot;+System.currentTimeMillis());
    &#125;
&#125;
</code></pre><p>4. è¿è¡Œæµ‹è¯•</p><p><img data-src="/RabbitMQ.assets/image-20231016112942920.png" alt="image-20231016112942920"></p><h3 id="27-äº‹åŠ¡"><a class="anchor" href="#27-äº‹åŠ¡">#</a> 2.7 äº‹åŠ¡</h3><p>æ•°æ®åº“ä¸­äº‹åŠ¡ï¼šä¿è¯æ•°æ®â¼€è‡´æ€§ï¼Œç‰¹åˆ«æ˜¯å¤šä¸ªæ“ä½œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ RabbitMQ ä¹Ÿæœ‰â¾ƒâ¼°çš„äº‹åŠ¡ï¼Œå¦‚æœæœ¬æ¬¡æ“ä½œæ²¡æœ‰æŠ›å¼‚å¸¸ï¼Œå°±æ­£å¸¸å‘é€ï¼Œå¦‚æœå‡ºç°å¼‚å¸¸ï¼Œå°±ä¼šå›æ»šï¼Œä¹Ÿæ˜¯ ä¿è¯æ¶ˆæ¯å‘é€çš„â¼€è‡´æ€§</p><p>ä½¿â½¤æ­¥éª¤ï¼š</p><p>1. åˆ›å»ºé…ç½®ç±»</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Configuration</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RabbitMQTranConfig</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment">// å‡†å¤‡ 1 ä¸ªé˜Ÿåˆ—</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">createQ3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token string">"lx-tran-q01"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>     <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    </pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">RabbitTransactionManager</span> <span class="token function">createTran</span><span class="token punctuation">(</span><span class="token class-name">ConnectionFactory</span> factory<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RabbitTransactionManager</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>     <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>2. ä½¿â½¤åŸºäºäº‹åŠ¡çš„å‘é€</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@RestController</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TranController</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token annotation punctuation">@Resource</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">RabbitTemplate</span> template<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    </pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token annotation punctuation">@Transactional</span> <span class="token comment">// éœ€è¦å¼€å¯ SpringBoot çš„äº‹åŠ¡æœºåˆ¶</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"sendmsg"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">,</span><span class="token keyword">int</span> count<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token comment">// å¼€å¯ RabbitMQ çš„é€šé“çš„äº‹åŠ¡</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        template<span class="token punctuation">.</span><span class="token function">setChannelTransacted</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        </pre></td></tr><tr><td data-num="12"></td><td><pre>    	<span class="token comment">// å‘é€æ¶ˆæ¯</span></pre></td></tr><tr><td data-num="13"></td><td><pre>   		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        	template<span class="token punctuation">.</span><span class="token function">convertAndSend</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">"lx-tran-q01"</span><span class="token punctuation">,</span>msg<span class="token operator">+</span><span class="token string">"--"</span><span class="token operator">+</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        	<span class="token comment">// å‡ºé”™ï¼Œçœ‹çœ‹ äº‹åŠ¡æ˜¯å¦â½£æ•ˆ</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        	<span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        		<span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>         <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>         <span class="token keyword">return</span> <span class="token string">"OK"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>3. ç›‘å¬æ¶ˆæ¯</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token string">"lx-tran-q01"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handler2</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç›‘å¬æ¶ˆæ¯ï¼š"</span><span class="token operator">+</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>4. è¿â¾æµ‹è¯•</p><p>â¼€å®šè¦æµ‹è¯•äº‹åŠ¡çš„å›æ»š</p><p><img data-src="RabbitMQ.assets/image-20231103190838252.png" alt="image-20231103190838252"></p><h3 id="28-æ¶ˆè´¹æ¶ˆæ¯çš„æ‰‹åŠ¨åº”ç­”"><a class="anchor" href="#28-æ¶ˆè´¹æ¶ˆæ¯çš„æ‰‹åŠ¨åº”ç­”">#</a> 2.8 æ¶ˆè´¹æ¶ˆæ¯çš„â¼¿åŠ¨åº”ç­”</h3><p>RabbitMQ é»˜è®¤çš„æ¶ˆè´¹è€…æ¶ˆæ¯è·å–æ¨¡å¼é‡‡â½¤çš„ä½¿â½¤â¾ƒåŠ¨åº”ç­”</p><p>ä½†æ˜¯è¿™ç§æœ‰ç¼ºé™·ï¼Œå¯èƒ½ä¼šå‡ºç°ï¼Œæ¶ˆæ¯è·å–äº†ä½†æ˜¯ä¸šåŠ¡å¤„ç†é—®é¢˜ï¼Œå¯¼è‡´ MQ ä¹Ÿâ¾ƒåŠ¨åˆ é™¤äº†æ¶ˆæ¯ï¼Œæœ€ç»ˆå¯¼è‡´ ä¸šåŠ¡æ²¡æœ‰æ‰§â¾</p><p>æ‰€ä»¥ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œå¯ä»¥å¼€å¯â¼¿åŠ¨åº”ç­”æ¨¡å¼ï¼Œç»“åˆâ¾ƒâ¼°çš„ä¸šåŠ¡æ‰§â¾æƒ…å†µï¼Œå¦‚æœä¸šåŠ¡æ‰§â¾æˆåŠŸï¼Œé‚£ä¹ˆ å°±æˆåŠŸåº”ç­”</p><p>å¦‚æœå¤±è´¥ï¼Œå°±æ‹’ç»æ¶ˆæ¯ï¼ŒåŒæ—¶æŠŠæ¶ˆæ¯å†åŠ å›é˜Ÿåˆ—ï¼Œè¿™æ ·å°±å¯ä»¥å†æ¬¡æ¶ˆæ¯å†æ¬¡å¤„ç†ï¼ˆæœ€å¥½åŠ ä¸ªä¸Šé™ï¼‰</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token string">"lx-ack-q01"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handler3</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">,</span> <span class="token class-name">Channel</span> channel<span class="token punctuation">,</span><span class="token annotation punctuation">@Header</span><span class="token punctuation">(</span><span class="token class-name">AmqpHeaders</span><span class="token punctuation">.</span><span class="token constant">DELIVERY_TAG</span><span class="token punctuation">)</span> 				<span class="token keyword">long</span> tag<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment">// æ¶ˆè´¹è€…è·å–æ¶ˆæ¯ï¼Œé»˜è®¤é‡‡â½¤çš„â¾ƒåŠ¨åº”ç­”ï¼Œå°±æ˜¯è·å–å°±åº”ç­”ï¼Œè¿™æ · MQ æœåŠ¡å™¨å°±åˆ é™¤æ¶ˆæ¯</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token comment">// è¿˜å¯ä»¥â¼¿åŠ¨åº”ç­”ï¼šç»“æœï¼š1. æˆåŠŸï¼ˆMQ åˆ é™¤ï¼‰ 2. å¤±è´¥ (MQ æ¶ˆæ¯)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ”¶åˆ°ACKæ¶ˆæ¯ï¼Œç›‘å¬æ¶ˆæ¯ï¼š"</span><span class="token operator">+</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment">// æ‹’ç»æ¶ˆæ¯ å‚æ•°è¯´æ˜ï¼š1. æ¶ˆæ¯ id 2. ç»“æœ true æˆåŠŸ false æ‹’ç» 3. æ˜¯å¦æŠŠæ¶ˆæ¯æ·»åŠ å›é˜Ÿåˆ—ä¸­</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token comment">// â¼€èˆ¬éœ€è¦è®¾ç½®ä¸ªä¸Šé™ï¼Œâ½å¦‚æœ€å¤š 3 æ¬¡</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	channel<span class="token punctuation">.</span><span class="token function">basicNack</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// æˆåŠŸæ¶ˆæ¯ å‚æ•°è¯´æ˜ï¼š1. æ¶ˆæ¯ id 2. ç»“æœ true æˆåŠŸ false æ‹’ç»</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment">// channel.basicAck(tag,true);</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token comment">// å¤„ç†ä¸šåŠ¡é€»è¾‘ å‡ºé”™äº†</span></pre></td></tr><tr><td data-num="12"></td><td><pre> <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="29-rabbitmqå¦‚ä½•é˜²æ­¢æ¶ˆæ¯ä¸¢å¤±"><a class="anchor" href="#29-rabbitmqå¦‚ä½•é˜²æ­¢æ¶ˆæ¯ä¸¢å¤±">#</a> 2.9 RabbitMQ å¦‚ä½•é˜²â½Œæ¶ˆæ¯ä¸¢å¤±</h3><p>1. å‘é€ç«¯å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±</p><p>äº‹åŠ¡æœºåˆ¶å’Œ Confirm æœºåˆ¶ï¼Œæ³¨æ„ï¼šäº‹åŠ¡æœºåˆ¶å’Œ Confirm æœºåˆ¶æ˜¯äº’æ–¥çš„ï¼Œä¸¤è€…ä¸èƒ½å…±å­˜ï¼Œä¼šå¯¼è‡´ RabbitMQ æŠ¥é”™ã€‚</p><p>2.RabbitMQ æœåŠ¡å™¨ç«¯å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±</p><p>æŒä¹…åŒ–ã€é›†ç¾¤ã€æ™®é€šæ¨¡å¼ã€é•œåƒæ¨¡å¼ã€‚</p><p>3. æ¶ˆè´¹ç«¯å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±</p><p>basicAck æœºåˆ¶ã€æ­»ä¿¡é˜Ÿåˆ—ã€æ¶ˆæ¯è¡¥å¿æœºåˆ¶</p><h3 id="210-rabbitmqå¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¹‚ç­‰æ€§"><a class="anchor" href="#210-rabbitmqå¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¹‚ç­‰æ€§">#</a> 2.10 RabbitMQ å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¹‚ç­‰æ€§</h3><p>åœ¨ç¼–ç¨‹ä¸­â¼€ä¸ªå¹‚ç­‰æ“ä½œçš„ç‰¹ç‚¹æ˜¯å…¶ä»»æ„å¤šæ¬¡æ‰§â¾æ‰€äº§â½£çš„ç»“æœä¸â¼€æ¬¡æ‰§â¾çš„äº§â½£çš„ç»“æœç›¸åŒï¼Œåœ¨ mq ä¸­ ç”±äºâ½¹ç»œæ•…éšœæˆ–å®¢æˆ·ç«¯å»¶è¿Ÿæ¶ˆè´¹ mq â¾ƒåŠ¨é‡è¯•è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå¯¼è‡´æ¶ˆæ¯çš„é‡å¤æ¶ˆè´¹ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•ä¿è¯æ¶ˆæ¯ çš„å¹‚ç­‰é—®é¢˜</p><p>1ã€â½£æˆå…¨å±€ id (é›ªèŠ±ç®—æ³•)ï¼Œå­˜â¼Š redis æˆ–è€…æ•°æ®åº“ï¼Œåœ¨æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯ä¹‹å‰ï¼ŒæŸ¥è¯¢â¼€ä¸‹è¯¥æ¶ˆæ¯æ˜¯å¦æœ‰æ¶ˆè´¹ è¿‡ã€‚ 2ã€å¦‚æœè¯¥æ¶ˆæ¯å·²ç»æ¶ˆè´¹è¿‡ï¼Œåˆ™å‘Šè¯‰ mq æ¶ˆæ¯å·²ç»æ¶ˆè´¹ï¼Œå°†è¯¥æ¶ˆæ¯ä¸¢å¼ƒï¼ˆâ¼¿åŠ¨ ackï¼‰ã€‚</p><p>3ã€å¦‚æœæ²¡æœ‰æ¶ˆè´¹è¿‡ï¼Œå°†è¯¥æ¶ˆæ¯è¿›â¾æ¶ˆè´¹å¹¶å°†æ¶ˆè´¹è®°å½•å†™è¿› redis æˆ–è€…æ•°æ®åº“ä¸­ã€‚</p><h3 id="211-rabbitmqé›†ç¾¤æ¨¡å¼"><a class="anchor" href="#211-rabbitmqé›†ç¾¤æ¨¡å¼">#</a> 2.11 RabbitMQ é›†ç¾¤æ¨¡å¼</h3><p>RabbitMQ æœ‰ä¸‰ç§æ¨¡å¼ï¼š å•æœºæ¨¡å¼ ï¼Œ æ™®é€šé›†ç¾¤æ¨¡å¼ ï¼Œ é•œåƒé›†ç¾¤æ¨¡å¼ ã€‚</p><p><strong>å•æœºæ¨¡å¼</strong>ï¼šå°±æ˜¯ demo çº§åˆ«çš„ï¼Œâ¼€èˆ¬å°±æ˜¯ä½ æœ¬åœ°å¯åŠ¨äº†ç©ç©â¼‰çš„ï¼Œæ²¡â¼ˆâ½£äº§â½¤å•æœºæ¨¡å¼</p><p><strong>æ™®é€šé›†ç¾¤æ¨¡å¼</strong>ï¼šæ„æ€å°±æ˜¯åœ¨å¤šå°æœºå™¨ä¸Šå¯åŠ¨å¤šä¸ª RabbitMQ å®ä¾‹ï¼Œæ¯ä¸ªæœºå™¨å¯åŠ¨â¼€ä¸ªã€‚</p><p><strong>é•œåƒé›†ç¾¤æ¨¡å¼</strong>ï¼šè¿™ç§æ¨¡å¼ï¼Œæ‰æ˜¯æ‰€è°“çš„ RabbitMQ çš„â¾¼å¯â½¤æ¨¡å¼ï¼Œè·Ÿæ™®é€šé›†ç¾¤æ¨¡å¼ä¸â¼€æ ·çš„æ˜¯ï¼Œä½ åˆ›å»º çš„ queueï¼Œâ½†è®ºå…ƒæ•°æ® (å…ƒæ•°æ®æŒ‡ RabbitMQ çš„é…ç½®æ•°æ®) è¿˜æ˜¯ queue â¾¥çš„æ¶ˆæ¯éƒ½ä¼šå­˜åœ¨äºå¤šä¸ªå®ä¾‹ä¸Šï¼Œç„¶ åæ¯æ¬¡ä½ å†™æ¶ˆæ¯åˆ° queue çš„æ—¶å€™ï¼Œéƒ½ä¼šâ¾ƒåŠ¨æŠŠæ¶ˆæ¯åˆ°å¤šä¸ªå®ä¾‹çš„ queue â¾¥è¿›â¾æ¶ˆæ¯åŒæ­¥ã€‚</p><h3 id="212-rabbitmqåº”ç”¨åœºæ™¯"><a class="anchor" href="#212-rabbitmqåº”ç”¨åœºæ™¯">#</a> 2.12 RabbitMQ åº”â½¤åœºæ™¯</h3><p>RabbitMQ æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ï¼Œå¹¿æ³›åº”ç”¨äºå„ç§ä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„ RabbitMQ åº”ç”¨åœºæ™¯ï¼š</p><ol><li>å¼‚æ­¥ä»»åŠ¡å¤„ç†ï¼šRabbitMQ å¯ä»¥ä½œä¸ºä»»åŠ¡é˜Ÿåˆ—ä½¿ç”¨ï¼Œå°†éœ€è¦å¼‚æ­¥å¤„ç†çš„ä»»åŠ¡å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç„¶åç”±æ¶ˆè´¹è€…ä»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡å¹¶è¿›è¡Œå¤„ç†ã€‚è¿™æ ·å¯ä»¥æœ‰æ•ˆåœ°è§£è€¦ä»»åŠ¡çš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œæé«˜ç³»ç»Ÿçš„å¯ä¼¸ç¼©æ€§å’Œç¨³å®šæ€§ã€‚</li><li>åˆ†å¸ƒå¼ç³»ç»Ÿé›†æˆï¼šåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸åŒçš„æœåŠ¡ä¹‹é—´éœ€è¦è¿›è¡Œé€šä¿¡å’Œåè°ƒã€‚RabbitMQ å¯ä»¥ä½œä¸ºæ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå®ç°ä¸åŒæœåŠ¡ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’ï¼ŒåŒ…æ‹¬è¯·æ±‚ - å“åº”æ¨¡å¼ã€å‘å¸ƒ - è®¢é˜…æ¨¡å¼ç­‰ï¼Œä»è€Œå®ç°æ¾è€¦åˆçš„åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„ã€‚</li><li>æ—¥å¿—æ”¶é›†ä¸åˆ†å‘ï¼šåœ¨å¤§è§„æ¨¡çš„ç³»ç»Ÿä¸­ï¼Œæ—¥å¿—æ”¶é›†å’Œåˆ†å‘æ˜¯ä¸€ä¸ªé‡è¦çš„éœ€æ±‚ã€‚å¯ä»¥ä½¿ç”¨ RabbitMQ å°†æ—¥å¿—æ¶ˆæ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç„¶åç”±æ¶ˆè´¹è€…è¿›è¡Œå®æ—¶å¤„ç†ã€å­˜å‚¨æˆ–è€…åˆ†å‘åˆ°å…¶ä»–ç³»ç»Ÿè¿›è¡Œè¿›ä¸€æ­¥çš„åˆ†æå’Œå¤„ç†ã€‚</li><li>å¹¿æ’­é€šçŸ¥ï¼šRabbitMQ çš„å‘å¸ƒ - è®¢é˜…æ¨¡å¼å¯ä»¥ç”¨äºå¹¿æ’­é€šçŸ¥çš„åœºæ™¯ã€‚å½“æŸä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå¯ä»¥å°†é€šçŸ¥æ¶ˆæ¯å‘é€åˆ°äº¤æ¢æœºä¸­ï¼Œç„¶åäº¤æ¢æœºå°†æ¶ˆæ¯å¹¿æ’­ç»™æ‰€æœ‰è®¢é˜…äº†è¯¥äº¤æ¢æœºçš„é˜Ÿåˆ—ã€‚è¿™æ ·å¯ä»¥å®ç°å®æ—¶çš„å¹¿æ’­é€šçŸ¥åŠŸèƒ½ã€‚</li><li>åº”ç”¨è§£è€¦å’Œå‰Šå³°å¡«è°·ï¼šé€šè¿‡ä½¿ç”¨ RabbitMQï¼Œä¸åŒçš„åº”ç”¨ç¨‹åºæˆ–æœåŠ¡å¯ä»¥é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œè§£è€¦ï¼Œæé«˜ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚åŒæ—¶ï¼Œæ¶ˆæ¯é˜Ÿåˆ—è¿˜å¯ä»¥ç”¨äºå¹³æ»‘å¤„ç†ç³»ç»Ÿçš„å³°å€¼è¯·æ±‚ï¼Œé¿å…ç³»ç»Ÿè¿‡è½½ã€‚</li></ol><p>æ€»ä¹‹ï¼ŒRabbitMQ é€‚ç”¨äºè®¸å¤šä¸åŒçš„åº”ç”¨åœºæ™¯ï¼ŒåŒ…æ‹¬ä»»åŠ¡å¤„ç†ã€åˆ†å¸ƒå¼ç³»ç»Ÿé›†æˆã€æ—¥å¿—å¤„ç†ã€å¹¿æ’­é€šçŸ¥ç­‰ã€‚é€šè¿‡åˆç†åœ°ä½¿ç”¨ RabbitMQï¼Œå¯ä»¥æé«˜ç³»ç»Ÿçš„å¯é æ€§ã€å¯ä¼¸ç¼©æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><h2 id="æ‰©å±•"><a class="anchor" href="#æ‰©å±•">#</a> æ‰©å±•</h2><h3 id="1ä»»åŠ¡è°ƒåº¦æ¡†æ¶"><a class="anchor" href="#1ä»»åŠ¡è°ƒåº¦æ¡†æ¶">#</a> 1. ä»»åŠ¡è°ƒåº¦æ¡†æ¶</h3><p>Java ä¸­å¦‚ä½•å®ç°å®šæ—¶ä»»åŠ¡ï¼Ÿ</p><p>æ¯”å¦‚ï¼š</p><p>1. æ¯å¤©æ—©ä¸Š 6 ç‚¹å®šæ—¶æ‰§è¡Œ</p><p>2. æ¯æœˆæœ€åä¸€ä¸ªå·¥ä½œæ—¥ï¼Œè€ƒå‹¤ç»Ÿè®¡</p><p>3. æ¯ä¸ªæœˆ 25 å·ä¿¡ç”¨å¡è¿˜æ¬¾</p><p>4. ä¼šå‘˜ç”Ÿæ—¥ç¥ç¦</p><p>5. æ¯éš” 3 ç§’ï¼Œè‡ªåŠ¨æé†’</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»»åŠ¡è°ƒåº¦æ¡†æ¶å®ç°ä¸Šè¿°çš„éœ€æ±‚</p><p>ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼šå¯ä»¥å®ç°å®šæ—¶ä»»åŠ¡ï¼Œå®ç°é—´éš”å¤šå°‘æ—¶é—´çš„é‡å¤æ‰§è¡Œï¼Œå®ç°æŒ‡å®šæ—¥æœŸçš„é‡å¤æ‰§è¡Œ</p><p>Java ä¸­ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼š</p><p>1.Spring Task</p><p>2.Quartz</p><p>3.XXL-Job</p><p>4. ç¬¬ä¸‰äº‘å¹³å°ï¼šé˜¿é‡Œäº‘ - SchedulerX ç­‰ç­‰</p><p>é€‰æ‹©ä¸€ä¸ªï¼šSpring Taskï¼ˆSpring Scheduledï¼‰</p><p>2 ä¸ªæ³¨è§£ + 1 ä¸ªè¡¨è¾¾å¼</p><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><p>1. å¼€å…³ç±» ä½¿ç”¨æ³¨è§£</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@SpringBootApplication</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@EnableScheduling</span> <span class="token comment">// å¼€å¯ä»»åŠ¡è°ƒåº¦</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringTask01Application</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringTask01Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>2. å®šä¹‰ä»»åŠ¡ - é‡å¤æ‰§è¡Œ</p><pre><code class="language-Java">@Component
public class HelloTask &#123;
    //å®šæ—¶ä»»åŠ¡ï¼Œéœ€è¦é‡å¤æ‰§è¡Œçš„æ–¹æ³•ï¼Œå¹¶è®¾ç½®è§¦å‘çš„è§„åˆ™
    //æ¯éš”3ç§’ï¼Œé‡å¤æ‰§è¡Œ
    //CRONè¡¨è¾¾å¼ å°±æ˜¯è®¾ç½®å®šæ—¶ä»»åŠ¡çš„æ—¶é—´å…³ç³»çš„ç‰¹æ®Šçš„å­—ç¬¦ä¸²
    //è¯­æ³•æ ¼å¼ï¼šç§’ åˆ† æ—¶ æ—¥ æœˆ æ˜ŸæœŸå‡  å¹´ å…¶ä¸­ï¼Œåªæœ‰å¹´å¯ä»¥çœç•¥
    @Scheduled(cron = &quot;0/3 * * * * ?&quot;)
    public void task1()&#123;
        System.err.println(&quot;æ¯éš”3ç§’ï¼ŒæŸ¥çœ‹åŒæ¡ŒçŠ¶æ€ï¼&quot;+System.currentTimeMillis());
    &#125;
&#125;
</code></pre><p>3. è¿è¡ŒæŸ¥çœ‹æ•ˆæœ</p><p><img data-src="RabbitMQ.assets/image-20231016101548712.png" alt="image-20231016101548712"></p><p>CRON è¡¨è¾¾å¼ï¼šç‰¹æ®Šå­—ç¬¦ä¸²ï¼Œä¸»è¦ç”¨æ¥æè¿°æ—¶é—´çš„ï¼Œç”¨äºä»»åŠ¡è°ƒåº¦ç­‰</p><p><img data-src="RabbitMQ.assets/image-20231016102801441.png" alt="image-20231016102801441"></p><p>æ¯ä¸€ä¸ªåŸŸéƒ½ä½¿ç”¨æ•°å­—ï¼Œä½†è¿˜å¯ä»¥å‡ºç°å¦‚ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼Œå®ƒä»¬çš„å«ä¹‰æ˜¯ï¼š</p><blockquote><p>ï¼ˆ1ï¼‰* ï¼šè¡¨ç¤ºåŒ¹é…è¯¥åŸŸçš„ä»»æ„å€¼ã€‚å‡å¦‚åœ¨ Minutes åŸŸä½¿ç”¨ *ï¼Œå³è¡¨ç¤ºæ¯åˆ†é’Ÿéƒ½ä¼šè§¦å‘äº‹ä»¶ã€‚</p><p>ï¼ˆ2ï¼‰?ï¼šåªèƒ½ç”¨åœ¨ DayofMonth å’Œ DayofWeek ä¸¤ä¸ªåŸŸã€‚å®ƒä¹ŸåŒ¹é…åŸŸçš„ä»»æ„å€¼ï¼Œä½†å®é™…ä¸ä¼šã€‚å› ä¸º DayofMonth å’Œ DayofWeek ä¼šç›¸äº’å½±å“ã€‚</p><p>ä¾‹å¦‚ï¼šæƒ³åœ¨æ¯æœˆçš„ 20 æ—¥è§¦å‘è°ƒåº¦ï¼Œä¸ç®¡ 20 æ—¥åˆ°åº•æ˜¯æ˜ŸæœŸå‡ ï¼Œåˆ™åªèƒ½ä½¿ç”¨å¦‚ä¸‹å†™æ³•ï¼š 13 13 15 20 * ?ï¼Œå…¶ä¸­æœ€åä¸€ä½åªèƒ½ç”¨ï¼Ÿï¼Œè€Œä¸èƒ½ä½¿ç”¨ *ï¼Œå¦‚æœä½¿ç”¨ * è¡¨ç¤ºä¸ç®¡æ˜ŸæœŸå‡ éƒ½ä¼šè§¦å‘ï¼Œå®é™…ä¸Šå¹¶ä¸æ˜¯è¿™æ ·ã€‚</p><p>ï¼ˆ3ï¼‰-ï¼šè¡¨ç¤ºèŒƒå›´ã€‚ä¾‹å¦‚åœ¨ Minutes åŸŸä½¿ç”¨ 5-20ï¼Œè¡¨ç¤ºä» 5 åˆ†åˆ° 20 åˆ†é’Ÿæ¯åˆ†é’Ÿè§¦å‘ä¸€æ¬¡</p><p>ï¼ˆ4ï¼‰/ï¼šè¡¨ç¤ºèµ·å§‹æ—¶é—´å¼€å§‹è§¦å‘ï¼Œç„¶åæ¯éš”å›ºå®šæ—¶é—´è§¦å‘ä¸€æ¬¡ã€‚ä¾‹å¦‚åœ¨ Minutes åŸŸä½¿ç”¨ 5/20ï¼Œåˆ™æ„å‘³ç€ 5 åˆ†é’Ÿè§¦å‘ä¸€æ¬¡ï¼Œè€Œ 25ï¼Œ45 ç­‰åˆ†åˆ«è§¦å‘ä¸€æ¬¡.ã€‚</p><p>ï¼ˆ5ï¼‰,ï¼šè¡¨ç¤ºåˆ—å‡ºæšä¸¾å€¼ã€‚ä¾‹å¦‚ï¼šåœ¨ Minutes åŸŸä½¿ç”¨ 5,20ï¼Œåˆ™æ„å‘³ç€åœ¨ 5 å’Œ 20 åˆ†æ¯åˆ†é’Ÿè§¦å‘ä¸€æ¬¡ã€‚</p><p>ï¼ˆ6ï¼‰Lï¼šè¡¨ç¤ºæœ€åï¼Œåªèƒ½å‡ºç°åœ¨ DayofWeek å’Œ DayofMonth åŸŸã€‚å¦‚æœåœ¨ DayofWeek åŸŸä½¿ç”¨ 5Lï¼Œæ„å‘³ç€åœ¨æœ€åçš„ä¸€ä¸ªæ˜ŸæœŸå››è§¦å‘ã€‚</p><p>ï¼ˆ7ï¼‰Wï¼šè¡¨ç¤ºæœ‰æ•ˆå·¥ä½œæ—¥ (å‘¨ä¸€åˆ°å‘¨äº”)ï¼Œåªèƒ½å‡ºç°åœ¨ DayofMonth åŸŸï¼Œç³»ç»Ÿå°†åœ¨ç¦»æŒ‡å®šæ—¥æœŸçš„æœ€è¿‘çš„æœ‰æ•ˆå·¥ä½œæ—¥è§¦å‘äº‹ä»¶ã€‚</p><p>ä¾‹å¦‚ï¼šåœ¨ DayofMonth ä½¿ç”¨ 5Wï¼Œå¦‚æœ 5 æ—¥æ˜¯æ˜ŸæœŸå…­ï¼Œåˆ™å°†åœ¨æœ€è¿‘çš„å·¥ä½œæ—¥ï¼šæ˜ŸæœŸäº”ï¼Œå³ 4 æ—¥è§¦å‘ã€‚å¦‚æœ 5 æ—¥æ˜¯æ˜ŸæœŸå¤©ï¼Œåˆ™åœ¨ 6 æ—¥ (å‘¨ä¸€) è§¦å‘ï¼›å¦‚æœ 5 æ—¥åœ¨æ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸäº”ä¸­çš„ä¸€å¤©ï¼Œåˆ™å°±åœ¨ 5 æ—¥è§¦å‘ã€‚å¦å¤–ä¸€ç‚¹ï¼ŒW çš„æœ€è¿‘å¯»æ‰¾ä¸ä¼šè·¨è¿‡æœˆä»½ ã€‚</p><p>ï¼ˆ8ï¼‰LWï¼šè¿™ä¸¤ä¸ªå­—ç¬¦å¯ä»¥è¿ç”¨ï¼Œè¡¨ç¤ºåœ¨æŸä¸ªæœˆæœ€åä¸€ä¸ªå·¥ä½œæ—¥ã€‚</p><p>ï¼ˆ9ï¼‰#ï¼šç”¨äºç¡®å®šæ¯ä¸ªæœˆç¬¬å‡ ä¸ªæ˜ŸæœŸå‡ ï¼Œåªèƒ½å‡ºç°åœ¨ DayofWeek åŸŸã€‚ä¾‹å¦‚åœ¨ 4#2ï¼Œè¡¨ç¤ºæŸæœˆçš„ç¬¬äºŒä¸ªæ˜ŸæœŸä¸‰ã€‚</p></blockquote><p><span class="exturl" data-url="aHR0cHM6Ly9jcm9uLnFxZTIuY29tLw==">https://cron.qqe2.com/</span></p><p><img data-src="RabbitMQ.assets/image-20231016103550581.png" alt="image-20231016103550581"></p><div class="tags"><a href="/tags/RabbitMQ/" rel="tag"><i class="ic i-tag"></i>RabbitMQ</a><a href="/tags/Linux/" rel="tag"><i class="ic i-tag"></i>Linux</a></div></div><footer><div class="meta"><span class="icon"><i class="ic i-eye"></i></span><span>æ­¤æ–‡ç« å·²è¢«é˜…è¯»æ¬¡æ•°:</span><span class="waline-pageview-count" id="twikoo_visitors" data-path="2023/10/22/linux/docker/rabbitMQ/RabbitMQ/">æ­£åœ¨åŠ è½½...</span><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">æ›´æ–°äº</span><time title="ä¿®æ”¹æ—¶é—´ï¼š2023-11-03 19:42:40" itemprop="dateModified" datetime="2023-11-03T19:42:40+08:00">2023-11-03</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i>èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/assets/wechatpay.png" alt="biya å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/assets/alipay.png" alt="biya æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div><div><img data-src="/assets/paypal.png" alt="biya è´å®"><p>è´å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>biya<i class="ic i-at"><em>@</em></i>å¤¢ã®ãªã„è³¢é­šã§ã™</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://sbysg.github.io/2023/10/22/linux/docker/rabbitMQ/RabbitMQ/" title="rabbitMQ">https://sbysg.github.io/2023/10/22/linux/docker/rabbitMQ/RabbitMQ/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/10/22/frontend/vue/vue3/Vue3%E9%80%9F%E6%88%90/" rel="prev" itemprop="url" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giciundwu5j20zk0m8n9e.jpg" title="vue3"><span class="type">ä¸Šä¸€ç¯‡</span><span class="category"><i class="ic i-flag"></i>Vue</span><h3>vue3</h3></a></div><div class="item right"><a href="/2023/10/22/linux/docker/docker/Docker/" rel="next" itemprop="url" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclga70tsj20zk0m84mr.jpg" title="docker"><span class="type">ä¸‹ä¸€ç¯‡</span><span class="category"><i class="ic i-flag"></i>Docker</span><h3>docker</h3></a></div></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-mq"><span class="toc-number">1.</span> <span class="toc-text">ä¸€ã€MQ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-mq"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 MQ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-rabbitmq"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 RabbitMQ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 åˆä½“éªŒ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-rabbitmq%E6%A0%B8%E5%BF%83"><span class="toc-number">2.</span> <span class="toc-text">äºŒã€RabbitMQ æ ¸å¿ƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-%E6%B6%88%E6%81%AF%E6%A8%A1%E5%BC%8F-%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 æ¶ˆæ¯æ¨¡å¼ - ç®€å•æ¶ˆæ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-%E6%B6%88%E6%81%AF%E6%A8%A1%E5%BC%8F-work%E6%B6%88%E6%81%AF"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 æ¶ˆæ¯æ¨¡å¼ - Work æ¶ˆæ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23%E6%B6%88%E6%81%AF%E6%A8%A1%E5%BC%8F-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85"><span class="toc-number">2.3.</span> <span class="toc-text">2.3. æ¶ˆæ¯æ¨¡å¼ - å‘å¸ƒè®¢é˜…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-%E6%B6%88%E6%81%AF%E6%A8%A1%E5%BC%8F-%E8%B7%AF%E7%94%B1%E5%8C%B9%E9%85%8D"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 æ¶ˆæ¯æ¨¡å¼ - è·¯ç”±åŒ¹é…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-%E6%B6%88%E6%81%AF%E6%A8%A1%E5%BC%8F-%E4%B8%BB%E9%A2%98%E6%B6%88%E6%81%AF"><span class="toc-number">2.5.</span> <span class="toc-text">2.5 æ¶ˆæ¯æ¨¡å¼ - ä¸»é¢˜æ¶ˆæ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#26-%E6%AD%BB%E4%BF%A1%E5%BB%B6%E8%BF%9F%E6%B6%88%E6%81%AF"><span class="toc-number">2.6.</span> <span class="toc-text">2.6 æ­»ä¿¡ + å»¶è¿Ÿæ¶ˆæ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#27-%E4%BA%8B%E5%8A%A1"><span class="toc-number">2.7.</span> <span class="toc-text">2.7 äº‹åŠ¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#28-%E6%B6%88%E8%B4%B9%E6%B6%88%E6%81%AF%E7%9A%84%E6%89%8B%E5%8A%A8%E5%BA%94%E7%AD%94"><span class="toc-number">2.8.</span> <span class="toc-text">2.8 æ¶ˆè´¹æ¶ˆæ¯çš„â¼¿åŠ¨åº”ç­”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#29-rabbitmq%E5%A6%82%E4%BD%95%E9%98%B2%E6%AD%A2%E6%B6%88%E6%81%AF%E4%B8%A2%E5%A4%B1"><span class="toc-number">2.9.</span> <span class="toc-text">2.9 RabbitMQ å¦‚ä½•é˜²â½Œæ¶ˆæ¯ä¸¢å¤±</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#210-rabbitmq%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E6%B6%88%E6%81%AF%E7%9A%84%E5%B9%82%E7%AD%89%E6%80%A7"><span class="toc-number">2.10.</span> <span class="toc-text">2.10 RabbitMQ å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¹‚ç­‰æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#211-rabbitmq%E9%9B%86%E7%BE%A4%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.11.</span> <span class="toc-text">2.11 RabbitMQ é›†ç¾¤æ¨¡å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#212-rabbitmq%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">2.12.</span> <span class="toc-text">2.12 RabbitMQ åº”â½¤åœºæ™¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95"><span class="toc-number">3.</span> <span class="toc-text">æ‰©å±•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E6%A1%86%E6%9E%B6"><span class="toc-number">3.1.</span> <span class="toc-text">1. ä»»åŠ¡è°ƒåº¦æ¡†æ¶</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/2023/10/22/linux/docker/docker/Docker/" rel="bookmark" title="docker">docker</a></li><li class="active"><a href="/2023/10/22/linux/docker/rabbitMQ/RabbitMQ/" rel="bookmark" title="rabbitMQ">rabbitMQ</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="biya" data-src="/assets/avatar.jpg"><p class="name" itemprop="name">biya</p><div class="description" itemprop="description">æ‘¸é±¼ä¹‹é“ï¼Œå°±åœ¨å…¶ä¸­</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">13</span><span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">12</span><span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">12</span><span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><a href="https://github.com/sbysg" class="item github" rel="noopener" title="https:&#x2F;&#x2F;github.com&#x2F;sbysg" target="_blank"><i class="ic i-github"></i></a><a href="https://www.zhihu.com/people/xin-han-91-91" class="item zhihu" rel="noopener" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;xin-han-91-91" target="_blank"><i class="ic i-zhihu"></i></a><a href="https://music.163.com/#/user/home?id=1657896798" class="item music" rel="noopener" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;1657896798" target="_blank"><i class="ic i-cloud-music"></i></a><a href="https://weibo.com/u/6667154460" class="item weibo" rel="noopener" title="https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;6667154460" target="_blank"><i class="ic i-weibo"></i></a><a href="https://about.me/biyahan" class="item about" rel="noopener" title="https:&#x2F;&#x2F;about.me&#x2F;biyahan" target="_blank"><i class="ic i-address-card"></i></a><a href="https://t.me/kill_biya" class="item telegram" rel="noopener" title="https:&#x2F;&#x2F;t.me&#x2F;kill_biya" target="_blank"><i class="ic i-paper-plane"></i></a><a href="https://stackoverflow.com/users/22783860/kill-biya/" class="item stackoverflow" rel="noopener" title="https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;22783860&#x2F;kill-biya&#x2F;" target="_blank"><i class="ic i-stack-overflow"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-user"></i>å…³äº</a><ul class="submenu"><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>å…³äºæœ¬ç«™</a></li><li class="item"><a href="/admiration/" rel="section"><i class="ic i-coffee"></i>èµèµåšä¸»</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>å‹é”</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/10/22/linux/docker/docker/Docker/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/10/22/frontend/vue/vue3/Vue3%E9%80%9F%E6%88%90/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/backend/" title="åˆ†ç±»äºJavaåç«¯">Javaåç«¯</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/" title="åˆ†ç±»äºJava">Java</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/base/" title="åˆ†ç±»äºJavaåŸºç¡€">JavaåŸºç¡€</a></div><span><a href="/2023/10/22/backend/java/base/%E7%88%AA%E5%93%87%E5%A7%A8%E5%A7%A8/">çˆªå“‡åŸºç¡€</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/backend/" title="åˆ†ç±»äºJavaåç«¯">Javaåç«¯</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/" title="åˆ†ç±»äºJava">Java</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/base/" title="åˆ†ç±»äºJavaåŸºç¡€">JavaåŸºç¡€</a></div><span><a href="/2023/10/22/backend/java/base/hello/hello-world/">Hello World</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/springframe/" title="åˆ†ç±»äºJavaæ¡†æ¶">Javaæ¡†æ¶</a><i class="ic i-angle-right"></i><a href="/categories/springframe/spring/" title="åˆ†ç±»äºSpringå…¨å®¶æ¡¶">Springå…¨å®¶æ¡¶</a></div><span><a href="/2023/10/22/springframe/spring/springboot/springboot-01-class/">springboot</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/backend/" title="åˆ†ç±»äºJavaåç«¯">Javaåç«¯</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/" title="åˆ†ç±»äºJava">Java</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/base/" title="åˆ†ç±»äºJavaåŸºç¡€">JavaåŸºç¡€</a></div><span><a href="/2023/10/22/backend/java/base/first/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/">hi biya</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/springframe/" title="åˆ†ç±»äºJavaæ¡†æ¶">Javaæ¡†æ¶</a><i class="ic i-angle-right"></i><a href="/categories/springframe/spring/" title="åˆ†ç±»äºSpringå…¨å®¶æ¡¶">Springå…¨å®¶æ¡¶</a><i class="ic i-angle-right"></i><a href="/categories/springframe/spring/mybatis/" title="åˆ†ç±»äºMybatis">Mybatis</a></div><span><a href="/2023/10/22/springframe/spring/mybatis/mybatis-plus/3-02Mybatis-plus/">mybatis-plus</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/linux/" title="åˆ†ç±»äºLinux">Linux</a><i class="ic i-angle-right"></i><a href="/categories/linux/docker/" title="åˆ†ç±»äºDocker">Docker</a></div><span><a href="/2023/10/22/linux/docker/rabbitMQ/RabbitMQ/">rabbitMQ</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/springframe/" title="åˆ†ç±»äºJavaæ¡†æ¶">Javaæ¡†æ¶</a><i class="ic i-angle-right"></i><a href="/categories/springframe/spring/" title="åˆ†ç±»äºSpringå…¨å®¶æ¡¶">Springå…¨å®¶æ¡¶</a><i class="ic i-angle-right"></i><a href="/categories/springframe/spring/mybatis/" title="åˆ†ç±»äºMybatis">Mybatis</a></div><span><a href="/2023/10/22/springframe/spring/mybatis/mybatis/MyBatis/">mybatis</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/springframe/" title="åˆ†ç±»äºJavaæ¡†æ¶">Javaæ¡†æ¶</a><i class="ic i-angle-right"></i><a href="/categories/springframe/spring/" title="åˆ†ç±»äºSpringå…¨å®¶æ¡¶">Springå…¨å®¶æ¡¶</a></div><span><a href="/2023/10/22/springframe/spring/springcloud/SpringCloud/">springcloud</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/third-apis/" title="åˆ†ç±»äºç¬¬ä¸‰æ–¹api">ç¬¬ä¸‰æ–¹api</a></div><span><a href="/2023/10/22/third-apis/minio/%E4%B8%8A%E9%97%A8%E5%85%BB%E8%80%81-%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD-%E7%9F%AD%E4%BF%A1/">sms</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/linux/" title="åˆ†ç±»äºLinux">Linux</a><i class="ic i-angle-right"></i><a href="/categories/linux/docker/" title="åˆ†ç±»äºDocker">Docker</a></div><span><a href="/2023/10/22/linux/docker/docker/Docker/">docker</a></span></li></ul></div><div class="rpost pjax"><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment" id="new-comment"><li class="item" v-for="com in coms"><a v-bind:href="root + com.href" data-pjax-state="data-pjax-state"><span class="breadcrumb">{{com.nick}} @ {{com.time}}</span><span>{{com.text}}<br></span></a></li></ul></div></div><div class="status"><div class="copyright"><span itemprop="copyrightYear">2023</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">biya @ Ya Hallo</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="ç«™ç‚¹æ€»å­—æ•°">448k å­—</span><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">6:47</span></div><div class="powered-by">åŸºäº <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & Theme.<a href="https://github.com/theme-shoka-x/hexo-theme-shokaX/" rel="noopener" target="_blank">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/10/22/linux/docker/rabbitMQ/RabbitMQ/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,chart:!1,copy_tex:!1,katex:!1,mermaid:!1,audio:["https://music.163.com/song?id=1387098940"],fancybox:!0,nocopy:!1,outime:!0,template:'<div class="note warning"><p><span class="label warning">æ–‡ç« æ—¶æ•ˆæ€§æç¤º</span><br>è¿™æ˜¯ä¸€ç¯‡å‘å¸ƒäº {{publish}} å¤©å‰ï¼Œæœ€åä¸€æ¬¡æ›´æ–°åœ¨ {{updated}} å¤©å‰çš„æ–‡ç« ï¼Œéƒ¨åˆ†ä¿¡æ¯å¯èƒ½å·²ç»å‘ç”Ÿæ”¹å˜ï¼Œè¯·æ³¨æ„ç”„åˆ«ã€‚</p></div>',quiz:{choice:"å•é€‰é¢˜",multiple:"å¤šé€‰é¢˜",true_false:"åˆ¤æ–­é¢˜",essay:"é—®ç­”é¢˜",gap_fill:"å¡«ç©ºé¢˜",mistake:"é”™é¢˜å¤‡æ³¨"},ignores:[e=>e.includes("#"),e=>new RegExp(LOCAL.path+"$").test(e),[]]}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=default,fetch"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/pace/1.0.2/pace.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/algoliasearch/4.12.1/algoliasearch-lite.umd.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/instantsearch.js/4.39.0/instantsearch.production.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/quicklink/2.2.0/quicklink.umd.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/??jquery/3.5.1/jquery.min.js,fancybox/3.5.7/jquery.fancybox.min.js,justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" async></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/KaTeX/0.15.2/contrib/copy-tex.min.js" async></script><script src="/js/app.js?v=0.3.6"></script><script data-pjax="data-pjax">var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?true",e.async=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><script>!function(t,e,n,c,r,a){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(c)).async=1,r.src="https://www.clarity.ms/tag/true",(a=e.getElementsByTagName(c)[0]).parentNode.insertBefore(r,a)}(window,document,"clarity","script")</script><script async src="https://www.googletagmanager.com/gtag/js?id=true"></script><script data-pjax="data-pjax">function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","true")</script><script type="module" data-pjax>let items = []
        import { RecentComments } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs'
        RecentComments({
          serverURL: 'waline-biya.vercel.app',
          count: 10,
        }).then(({ comments }) => {
          comments.forEach(function (item) {
              let cText = (item.orig.length > 50) ? item.orig.substring(0,50)+'...' : item.orig
              item.url = item.url !== '/' ?  '/' + item.url : item.url;
              const siteLink = item.url + "#" + item.objectId
              items.push({
                  href: siteLink,
                  nick: item.nick,
                  time: item.insertedAt.split('T').shift(),
                  text: cText
              })
          })
          Vue.createApp({
            data() {
                return {
                    coms: items,
                    root: ''
                }
            }
          }).mount('#new-comment')
        }).catch(function (err) {
          console.error(err)
        })</script></body></html><!-- rebuild by hexo-renderer-multi-next-markdown-it -->