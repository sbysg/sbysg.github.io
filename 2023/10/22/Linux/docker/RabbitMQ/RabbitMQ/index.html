<!-- build time: Tue Oct 24 2023 17:10:19 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><meta name="msvalidate.01" content="1234"><link rel="alternate" href="/rss.xml" title="å¤¢ã®ãªã„è³¢é­šã§ã™" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="å¤¢ã®ãªã„è³¢é­šã§ã™" type="application/atom+xml"><link rel="alternate" type="application/json" title="å¤¢ã®ãªã„è³¢é­šã§ã™" href="http://example.com/feed.json"><link rel="preconnect" href="https://lf9-cdn-tos.bytecdntp.com"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://unpkg.com"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.3.6"><script src="https://cdn.staticfile.org/vue/3.2.45/vue.global.prod.js"></script><meta name="keywords" content="RabbitMQ,"><link rel="canonical" href="http://example.com/2023/10/22/Linux/docker/RabbitMQ/RabbitMQ/"><title>RabbitMQ</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">RabbitMQ</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2023-10-22 00:09:40"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">å‘è¡¨äº</span><time itemprop="dateCreated datePublished" datetime="2023-10-22T00:09:40+08:00">2023-10-22</time></span><span class="item" title="æœ¬æ–‡å­—æ•°"><span class="icon"><i class="ic i-pen"></i></span><span class="text">æœ¬æ–‡å­—æ•°</span><span>12k</span><span class="text">å­—</span></span><span class="item" title="é˜…è¯»æ—¶é•¿"><span class="icon"><i class="ic i-clock"></i></span><span class="text">é˜…è¯»æ—¶é•¿</span><span>11 åˆ†é’Ÿ</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Ya Hallo</a></li></ul><ul class="right" id="rightNav"><li class="item theme" @click="changeThemeByBtn"><i class="ic" :class="{'i-sun': !themeStatus,'i-moon': themeStatus}"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciszlczyj20zk0m816d.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicis081o9j20zk0m8dmr.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipevarprfj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipetlbztpj20zk0m84qp.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclwrdwyaj20zk0m8are.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicli9lfebj20zk0m84qp.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemlistelement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i><span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/docker/" itemprop="item" rel="index" title="åˆ†ç±»äºdocker"><span itemprop="name">docker<meta itemprop="position" content="0"></span></a></span><i class="ic i-angle-right"></i><span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/docker/Linux/" itemprop="item" rel="index" title="åˆ†ç±»äºLinux"><span itemprop="name">Linux<meta itemprop="position" content="1"></span></a></span></div><article class="post block" itemscope itemtype="http://schema.org/Article" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/2023/10/22/Linux/docker/RabbitMQ/RabbitMQ/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"><meta itemprop="name" content="biya"><meta itemprop="description" content="biya, æ‘¸é±¼ä¹‹é“ï¼Œå°±åœ¨å…¶ä¸­"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="å¤¢ã®ãªã„è³¢é­šã§ã™"></span><div class="body md" itemprop="articleBody"><p>RabbitMQ</p><p>å­¦ä¼šä¸€ä¸‹å†…å®¹ï¼š</p><p>1. å­¦ä¼šä¸“ä¸šçŸ¥è¯†</p><p>â€‹	å„ç§çŸ¥è¯†ç‚¹ï¼šæ¶µç›–æ•´ä¸ªå¼€å‘é¢†åŸŸ</p><p>2. å­¦ä¼šé€‚åˆè‡ªå·±çš„å­¦ä¹ æ–¹å¼</p><p>â€‹	å­¦ä¹ </p><p>3. å­¦ä¼šè§£å†³é—®é¢˜</p><p>â€‹	debugã€å®šä½ã€åˆ†æ</p><p>4. å­¦ä¼šå¼€å‘</p><p>â€‹	ç†è§£éœ€æ±‚ã€å­¦ä¼šæ²Ÿé€š</p><p>SpringCloud Alibaba</p><p>æ³¨å†Œä¸­å¿ƒï¼šnacos ä½œç”¨ï¼šç®¡ç†æœåŠ¡ï¼Œå®ç°æœåŠ¡çš„æ³¨å†Œä¸å‘ç° ä½¿ç”¨ï¼šæ³¨è§£ @EnableDiscoveryClient + é…ç½® (application)</p><p>é…ç½®ä¸­å¿ƒï¼šnacos ä½œç”¨ï¼š ç®¡ç†é…ç½®ï¼Œå®ç°é…ç½®çš„åŠ¨æ€åŒ–ç®¡ç†ï¼Œå¯ä»¥ä¸ç”¨æ›´æ”¹ä»£ç ï¼Œå®ç°ä¸åœæœºæ›´æ–° ä½¿ç”¨ï¼šæ³¨è§£ @RefreshScope + é…ç½® (Nacos é…ç½®ç®¡ç† æ–°å»ºé…ç½® Data ID æœåŠ¡åä¸€æ ·)+ é…ç½® (Bootstrap)</p><p>è¿œç¨‹è°ƒç”¨ï¼šOpenFeign ä½œç”¨ï¼šè°ƒç”¨æœåŠ¡ï¼Œå®ç°æœåŠ¡é—´é€šä¿¡ ä½¿ç”¨ï¼šæ³¨è§£ @EnableFeignClients+@FeignClient</p><p>ç½‘å…³ä¸­å¿ƒï¼šgateway ä½œç”¨ï¼šç½‘å…³ï¼Œå®ç°æœåŠ¡çš„èšåˆç»Ÿä¸€æ¥å£ï¼Œå¯¹è¯·æ±‚è¿‡æ»¤ ä½¿ç”¨ï¼šé…ç½® + æ¥å£ GlobalFilter</p><p>æµé‡æ§åˆ¶ï¼šSentinel ä½œç”¨ï¼šæµæ§å’Œç†”æ–­é™çº§ï¼Œæµæ§å°±æ˜¯æµé‡æ§åˆ¶ï¼Œé˜²æ­¢é«˜å¹¶å‘å¯¼è‡´æœåŠ¡å™¨å‹åŠ›è¿‡å¤§ï¼Œç†”æ–­é™çº§å°±æ˜¯å¯¹æ ¸å¿ƒæ–¹æ³•çš„ä¸€ç§ä¿æŠ¤ï¼Œå¦‚æœæ ¸å¿ƒæ–¹æ³•å‡ºç°é—®é¢˜å¯ä»¥ç«‹å³å“åº”ä¿è¯å¯ç”¨æ€§ ä½¿ç”¨ï¼šé…ç½® (Sentinel å¯è§†åŒ– æµæ§ã€ç†”æ–­)</p><p>é“¾è·¯è·Ÿè¸ªï¼šSleuth+Zipkin ä½œç”¨ï¼šå®ç°å¾®æœåŠ¡ä¸‹ä¸€æ¬¡è¯·æ±‚çš„å®Œæˆè¿‡ç¨‹çš„æ—¥å¿—è®°å½•ï¼Œå®ç°æœåŠ¡é—´çš„è°ƒç”¨å…³ç³» ä½¿ç”¨ï¼šé…ç½®</p><h2 id="ä¸€-mq"><a class="anchor" href="#ä¸€-mq">#</a> ä¸€ã€MQ</h2><h3 id="11-mq"><a class="anchor" href="#11-mq">#</a> 1.1 MQ</h3><h3 id="12-rabbitmq"><a class="anchor" href="#12-rabbitmq">#</a> 1.2 RabbitMQ</h3><p>éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªæœåŠ¡å™¨ï¼š</p><p>110.40.192.129</p><p>ç«¯å£å·ï¼šå¯è§†åŒ–é¡µé¢ï¼š15672 ä»£ç ä¸­ 5672</p><p>è´¦å·ï¼šguest</p><p>å¯†ç ï¼šguest</p><h3 id="13-åˆä½“éªŒ"><a class="anchor" href="#13-åˆä½“éªŒ">#</a> 1.3 åˆä½“éªŒ</h3><p>1. ä¾èµ– jar</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!--        RabbitMQ --></span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>2. å®ç°é…ç½®</p><figure class="highlight yaml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token key atrule">spring</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token key atrule">host</span><span class="token punctuation">:</span> 110.40.192.129</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token key atrule">username</span><span class="token punctuation">:</span> guest</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token key atrule">password</span><span class="token punctuation">:</span> guest</pre></td></tr></table></figure><p>3. ç¼–å†™ä»£ç </p><p>â€‹	åˆ›å»ºé˜Ÿåˆ—</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Configuration</span> <span class="token comment">// é…ç½® ç±»ä¼¼ beans æ ‡ç­¾</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RabbitMQConfig</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment">// åˆ›å»ºé˜Ÿåˆ—</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token annotation punctuation">@Bean</span> <span class="token comment">// IOC bean æ ‡ç­¾</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">createQ1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token string">"j2310-lx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>â€‹	æ¶ˆæ¯å‘é€</p><pre><code class="language-Java">@RestController
public class MqSendController &#123;
    @Resource
    private RabbitTemplate template;

    @GetMapping(&quot;send1&quot;)
    public String send1(String msg)&#123;
        //å‘é€æ¶ˆæ¯
        template.convertAndSend(&quot;&quot;,&quot;j2310-lx&quot;,msg);
        return &quot;OK&quot;;
    &#125;
&#125;
</code></pre><p>â€‹	æ¶ˆæ¯æ¥æ”¶</p><pre><code class="language-Java">@Slf4j
@Component //IOC
public class MsgListener &#123;
    @RabbitListener(queues = &quot;j2310-lx&quot;)
    public void hander(String msg)&#123;
        log.info(&quot;æ¶ˆè´¹è€…è·å–æ¶ˆæ¯&#123;&#125;&quot;,msg);
    &#125;
&#125;
</code></pre><p>4. è¿è¡Œæµ‹è¯•</p><p><img data-src="/RabbitMQ.assets/image-20231013114715480.png" alt="image-20231013114715480"></p><p><img data-src="RabbitMQ.assets/image-20231013114726677.png" alt="image-20231013114726677"></p><h2 id="äºŒ-rabbitmqæ ¸å¿ƒ"><a class="anchor" href="#äºŒ-rabbitmqæ ¸å¿ƒ">#</a> äºŒã€RabbitMQ æ ¸å¿ƒ</h2><h3 id="21-æ¶ˆæ¯æ¨¡å¼-ç®€å•æ¶ˆæ¯"><a class="anchor" href="#21-æ¶ˆæ¯æ¨¡å¼-ç®€å•æ¶ˆæ¯">#</a> 2.1 æ¶ˆæ¯æ¨¡å¼ - ç®€å•æ¶ˆæ¯</h3><p>ç®€å•æ¶ˆæ¯ï¼š</p><p>ç‰¹ç‚¹ï¼šä¸€ä¸ªé˜Ÿåˆ—å¯¹åº”ä¸€ä¸ªæ¶ˆè´¹ç«¯ï¼Œä¸€ä¸ªæ¶ˆæ¯åªèƒ½è¢«æ¶ˆè´¹ 1 æ¬¡</p><p><img data-src="/RabbitMQ.assets/image-20231013141827735.png" alt="image-20231013141827735"></p><p>ç¤ºä¾‹ï¼š</p><p>1. å®šä¹‰é˜Ÿåˆ—</p><p>2. å‘é€æ¶ˆæ¯ --- åˆ° --- é˜Ÿåˆ—ä¸­</p><p>3. ç›‘å¬æ¶ˆæ¯ --- ä» --- é˜Ÿåˆ—ä¸­</p><p>ä»£ç ï¼š</p><pre><code class="language-Java">//ç®€å•æ¶ˆæ¯
@Bean // IOC beanæ ‡ç­¾
public Queue createQ2()&#123;
    return new Queue(&quot;lx-p2p-1&quot;);
&#125;

@Resource
private RabbitTemplate template;
@GetMapping(&quot;send2&quot;)
public String send2(String msg)&#123;
        //å‘é€æ¶ˆæ¯
        template.convertAndSend(&quot;&quot;,&quot;lx-p2p-1&quot;,msg);
        return &quot;OK&quot;;
&#125;
 
    @RabbitListener(queues = &quot;lx-p2p-1&quot;)
    public void hander2(String msg)&#123;
        log.info(&quot;æ™®é€šæ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…ï¼Œè·å–æ¶ˆæ¯ï¼Œ&#123;&#125;&quot;,msg);
    &#125;
</code></pre><h3 id="22-æ¶ˆæ¯æ¨¡å¼-workæ¶ˆæ¯"><a class="anchor" href="#22-æ¶ˆæ¯æ¨¡å¼-workæ¶ˆæ¯">#</a> 2.2 æ¶ˆæ¯æ¨¡å¼ - Work æ¶ˆæ¯</h3><p>Work æ¶ˆæ¯ï¼šä¸€ä¸ªé˜Ÿåˆ—å¯ä»¥æœ‰å¤šä¸ªæ¶ˆè´¹ç«¯ï¼Œ1 ä¸ªæ¶ˆæ¯åªèƒ½æ¶ˆè´¹ 1 æ¬¡ï¼Œå¤šä¸ªæ¶ˆè´¹è€…æ˜¯æŒ‰ç…§è½®è¯¢çš„å½¢å¼è½®æµè·å–æ¶ˆæ¯</p><p>å¯ä»¥è§£å†³ï¼šæ¶ˆæ¯å †ç§¯ï¼ˆå‘çš„å¿«ï¼Œæ¶ˆè´¹çš„æ…¢ï¼‰</p><p><img data-src="RabbitMQ.assets/image-20231013141853817.png" alt="image-20231013141853817"></p><p>ç¤ºä¾‹ï¼š</p><pre><code class="language-Java">//Workæ¶ˆæ¯
@Bean // IOC beanæ ‡ç­¾
public Queue createQ3()&#123;
    return new Queue(&quot;lx-work-1&quot;);
&#125;

@Resource
    private RabbitTemplate template;
    @GetMapping(&quot;send3&quot;)
    public String send3(String msg)&#123;
        //å‘é€æ¶ˆæ¯
        template.convertAndSend(&quot;&quot;,&quot;lx-work-1&quot;,msg);
        return &quot;OK&quot;;
    &#125;
@RabbitListener(queues = &quot;lx-work-1&quot;)
    public void hander3(String msg)&#123;
        log.info(&quot;Workæ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…01ï¼Œè·å–æ¶ˆæ¯ï¼š&#123;&#125;&quot;,msg);
    &#125;
    @RabbitListener(queues = &quot;lx-work-1&quot;)
    public void hander4(String msg)&#123;
        log.info(&quot;Workæ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…02ï¼Œè·å–æ¶ˆæ¯ï¼š&#123;&#125;&quot;,msg);
    &#125;
</code></pre><h3 id="23æ¶ˆæ¯æ¨¡å¼-å‘å¸ƒè®¢é˜…"><a class="anchor" href="#23æ¶ˆæ¯æ¨¡å¼-å‘å¸ƒè®¢é˜…">#</a> 2.3. æ¶ˆæ¯æ¨¡å¼ - å‘å¸ƒè®¢é˜…</h3><p>å‘å¸ƒè®¢é˜…ï¼šå°±æ˜¯æ¶ˆæ¯å‘é€åˆ° Exchange (äº¤æ¢å™¨)ï¼Œäº¤æ¢å™¨å†æŠŠæ¶ˆæ¯å‘é€åˆ°äº¤æ¢å™¨ç»‘å®šçš„é˜Ÿåˆ—ä¸Šï¼Œ1 ä¸ªæ¶ˆæ¯å¯ä»¥ç»™å¤šä¸ªæ¶ˆè´¹è€…ï¼ˆå¤šä¸ªé˜Ÿåˆ—ä¸­ï¼‰è·å–</p><p>Exchange: äº¤æ¢å™¨ï¼Œæ˜¯ RabbitMQ ä¸€ä¸ªç»„æˆï¼Œå¯ä»¥æ¥æ”¶æ¶ˆæ¯ï¼Œç„¶åæ ¹æ®äº¤æ¢å™¨çš„ç±»å‹ï¼Œé€‰æ‹©å¯¹åº”çš„åŒ¹é…æ¨¡å¼ï¼ŒæŠŠåŒ¹é…åˆ°çš„æ¶ˆæ¯è½¬å‘åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­ã€‚</p><p>äº¤æ¢å™¨çš„ç±»å‹ï¼š</p><p>1.fanout ç›´æ¥è½¬å‘ï¼Œä¸å¯¹æ¶ˆæ¯åšåŒ¹é…å¤„ç†</p><p>2.direct è·¯ç”±åŒ¹é…ï¼Œå‘é€æ¶ˆæ¯æŒ‡å®š RoutingKey (ç²¾ç¡®)ï¼Œäº¤æ¢å™¨ç»‘å®šé˜Ÿåˆ—çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦æŒ‡å®š RoutingKey</p><p>3.topic è·¯ç”±åŒ¹é…ï¼Œå‘é€æ¶ˆæ¯æŒ‡å®š RoutingKey (æ¨¡ç³Šï¼Œæ”¯æŒ * #)ï¼Œäº¤æ¢å™¨ç»‘å®šé˜Ÿåˆ—çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦æŒ‡å®š RoutingKeyï¼Œ* ä¸€ä¸ªå•è¯ #ä»»æ„ä¸ªå•è¯</p><p>4.header æ¶ˆæ¯å¤´åŒ¹é…æ¨¡å¼ï¼Œå‘é€æ¶ˆæ¯çš„æ—¶å€™æŒ‡å®šæ¶ˆæ¯çš„è¯·æ±‚æ¶ˆæ¯å¤´ï¼Œäº¤æ¢å™¨ç»‘å®šé˜Ÿåˆ—çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦æŒ‡å®šå¯¹åº”çš„è¯·æ±‚æ¶ˆæ¯å¤´ï¼Œany ä»»æ„ä¸€ä¸ª all æ‰€æœ‰</p><p><img data-src="/RabbitMQ.assets/image-20231013141938699.png" alt="image-20231013141938699"></p><p>ç¤ºä¾‹ï¼š</p><p>1. åˆ›å»ºé˜Ÿåˆ—</p><p>2. åˆ›å»ºäº¤æ¢å™¨</p><p>3. åˆ›å»ºäº¤æ¢å™¨å’Œé˜Ÿåˆ—çš„ç»‘å®š</p><p>4. å‘é€æ¶ˆæ¯</p><p>5. ç›‘å¬æ¶ˆæ¯</p><p>ä»£ç ï¼š</p><pre><code class="language-Java">@Configuration
public class FanoutConfig &#123;
    //1åˆ›å»ºé˜Ÿåˆ—
    @Bean
    public Queue createQfanout1()&#123;
        return new Queue(&quot;q-fanout-01&quot;);
    &#125;
    @Bean
    public Queue createQfanout2()&#123;
        return new Queue(&quot;q-fanout-02&quot;);
    &#125;
    //2.åˆ›å»ºäº¤æ¢å™¨
    @Bean
    public FanoutExchange createFe()&#123;
        return new FanoutExchange(&quot;ex-fanout-lx&quot;);
    &#125;
    //3.å®ç°ç»‘å®š
    @Bean
    public Binding createBf1(FanoutExchange fe)&#123;
        return  BindingBuilder.bind(createQfanout1()).to(fe);
    &#125;
    @Bean
    public Binding createBf2(FanoutExchange fe)&#123;
        return  BindingBuilder.bind(createQfanout2()).to(fe);
    &#125;
&#125;
</code></pre><pre><code class="language-Java">@RestController
public class FanoutController &#123;
    @Resource
    private RabbitTemplate template;

    @GetMapping(&quot;fanout1&quot;)
    public String f1(String msg)&#123;
        template.convertAndSend(&quot;ex-fanout-lx&quot;,&quot;&quot;,msg);
        return &quot;ok&quot;;
    &#125;
&#125;
</code></pre><pre><code class="language-Java">@RabbitListener(queues = &quot;q-fanout-01&quot;)
public void hander5(String msg)&#123;
    log.info(&quot;fanoutæ¶ˆæ¯ï¼Œ01é˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…ï¼Œè·å–æ¶ˆæ¯ï¼š&#123;&#125;&quot;,msg);
&#125;
@RabbitListener(queues = &quot;q-fanout-02&quot;)
public void hander6(String msg)&#123;
    log.info(&quot;fanoutæ¶ˆæ¯ï¼Œ02é˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…02ï¼Œè·å–æ¶ˆæ¯ï¼š&#123;&#125;&quot;,msg);
&#125;
</code></pre><p><img data-src="RabbitMQ.assets/image-20231013150514443.png" alt="image-20231013150514443"></p><h3 id="24-æ¶ˆæ¯æ¨¡å¼-è·¯ç”±åŒ¹é…"><a class="anchor" href="#24-æ¶ˆæ¯æ¨¡å¼-è·¯ç”±åŒ¹é…">#</a> 2.4 æ¶ˆæ¯æ¨¡å¼ - è·¯ç”±åŒ¹é…</h3><p>è·¯ç”±æ¶ˆæ¯ï¼šæ¶ˆæ¯è¢«å‘é€åˆ°äº¤æ¢å™¨ï¼Œäº¤æ¢å™¨çš„ç±»å‹ä¸º directï¼Œå¯ä»¥æ ¹æ®æ¶ˆæ¯çš„è·¯ç”±å…³é”®å­—è¿›è¡ŒåŒ¹é…ï¼Œè½¬å‘åˆ°åŒ¹é…çš„æ‰€æœ‰çš„é˜Ÿåˆ—</p><p>RoutingKey: è·¯ç”±å…³é”®å­—ï¼Œåªæ”¯æŒç²¾ç¡®çš„å€¼</p><p><img data-src="RabbitMQ.assets/image-20231013142052195.png" alt="image-20231013142052195"></p><p>ç¤ºä¾‹ï¼š</p><p>1. åˆ›å»ºé˜Ÿåˆ—</p><p>2. åˆ›å»ºäº¤æ¢å™¨ direct</p><p>3. åˆ›å»ºäº¤æ¢å™¨å’Œé˜Ÿåˆ—çš„ç»‘å®š æŒ‡å®š RK</p><p>4. å‘é€æ¶ˆæ¯ æŒ‡å®š RK</p><p>5. ç›‘å¬æ¶ˆæ¯</p><p>ä»£ç ï¼š</p><pre><code class="language-Java">@Configuration
public class DirectConfig &#123;
    //1åˆ›å»ºé˜Ÿåˆ—
    @Bean
    public Queue createQdirect1()&#123;
        return new Queue(&quot;q-direct-01&quot;);
    &#125;
    @Bean
    public Queue createQdirect2()&#123;
        return new Queue(&quot;q-direct-02&quot;);
    &#125;
    @Bean
    public Queue createQdirect3()&#123;
        return new Queue(&quot;q-direct-03&quot;);
    &#125;
    //2.åˆ›å»ºäº¤æ¢å™¨
    @Bean
    public DirectExchange createDe()&#123;
        return new DirectExchange(&quot;ex-direct-lx&quot;);
    &#125;
    //3.å®ç°ç»‘å®š
    @Bean
    public Binding createBd1(DirectExchange fe)&#123;
        return  BindingBuilder.bind(createQdirect1()).to(fe).with(&quot;error&quot;);
    &#125;
    @Bean
    public Binding createBd2(DirectExchange fe)&#123;
        return  BindingBuilder.bind(createQdirect2()).to(fe).with(&quot;info&quot;);
    &#125;
    @Bean
    public Binding createBd3(DirectExchange fe)&#123;
        return  BindingBuilder.bind(createQdirect3()).to(fe).with(&quot;info&quot;);
    &#125;

&#125;
</code></pre><pre><code class="language-Java">@GetMapping(&quot;direct1&quot;)
public String d1(String msg,String type)&#123;
    template.convertAndSend(&quot;ex-direct-lx&quot;,type,msg);
    return &quot;ok&quot;;
&#125;
</code></pre><p><img data-src="RabbitMQ.assets/image-20231013162331523.png" alt="image-20231013162331523"></p><h3 id="25-æ¶ˆæ¯æ¨¡å¼-ä¸»é¢˜æ¶ˆæ¯"><a class="anchor" href="#25-æ¶ˆæ¯æ¨¡å¼-ä¸»é¢˜æ¶ˆæ¯">#</a> 2.5 æ¶ˆæ¯æ¨¡å¼ - ä¸»é¢˜æ¶ˆæ¯</h3><p>ä¸»é¢˜æ¶ˆæ¯ï¼Œå°±æ˜¯äº¤æ¢å™¨çš„ç±»å‹ä¸º Topic, è·Ÿè·¯ç”±æ¨¡å¼çš„æ¶ˆæ¯ä¸€æ ·ï¼Œéƒ½æ˜¯é€šè¿‡ RoutingKey åŒ¹é…é˜Ÿåˆ—</p><p>åŒºåˆ«ï¼š</p><p>ä¸»é¢˜æ¶ˆæ¯ çš„ RK æ”¯æŒæ¨¡ç³Š</p><p>ç‰¹æ®Šç¬¦å·ï¼š åŒºåˆ†å•è¯æ˜¯é€šè¿‡ã€‚åŒºåˆ†çš„</p><p>* ä¸€ä¸ªå•è¯ï¼Œå•è¯å†…å®¹ä»»æ„</p><p>#ä»»æ„ä¸ªå•è¯ï¼Œå•è¯å†…å®¹ä»»æ„</p><p><img data-src="RabbitMQ.assets/image-20231013142127724.png" alt="image-20231013142127724"></p><p>ç¤ºä¾‹ï¼š</p><p>1. åˆ›å»ºé˜Ÿåˆ—</p><p>2. åˆ›å»ºäº¤æ¢å™¨ topic</p><p>3. åˆ›å»ºäº¤æ¢å™¨å’Œé˜Ÿåˆ—çš„ç»‘å®š æŒ‡å®š RK (æ”¯æŒæ¨¡ç³Š)</p><p>4. å‘é€æ¶ˆæ¯ æŒ‡å®š RK</p><p>5. ç›‘å¬æ¶ˆæ¯</p><pre><code class="language-Java">@Configuration
public class TopicConfig &#123;
    //1åˆ›å»ºé˜Ÿåˆ—
    @Bean
    public Queue createQtopic1()&#123;
        return new Queue(&quot;q-topic-01&quot;);
    &#125;
    @Bean
    public Queue createQtopic2()&#123;
        return new Queue(&quot;q-topic-02&quot;);
    &#125;
    //2.åˆ›å»ºäº¤æ¢å™¨
    @Bean
    public TopicExchange createTe()&#123;
        return new TopicExchange(&quot;ex-topic-lx&quot;);
    &#125;
    //3.å®ç°ç»‘å®š
    @Bean
    public Binding createBt1(TopicExchange fe)&#123;
        //* ä¸€ä¸ªå•è¯
        return  BindingBuilder.bind(createQtopic1()).to(fe).with(&quot;error.*&quot;);
    &#125;
    @Bean
    public Binding createBt2(TopicExchange fe)&#123;
        //# ä»»æ„ä¸ªå•è¯ 0-å¤šä¸ª
        return  BindingBuilder.bind(createQtopic2()).to(fe).with(&quot;info.#&quot;);
    &#125;
&#125;
</code></pre><pre><code class="language-Java">@RestController
public class TopicController &#123;
    @Resource
    private RabbitTemplate template;

    @GetMapping(&quot;topic1&quot;)
    public String f1(String msg,String rk)&#123;
        template.convertAndSend(&quot;ex-topic-lx&quot;,rk,msg);
        return &quot;ok&quot;;
    &#125;
&#125;
</code></pre><p><img data-src="RabbitMQ.assets/image-20231013164017687.png" alt="image-20231013164017687"></p><h3 id="26-æ­»ä¿¡å»¶è¿Ÿæ¶ˆæ¯"><a class="anchor" href="#26-æ­»ä¿¡å»¶è¿Ÿæ¶ˆæ¯">#</a> 2.6 æ­»ä¿¡ + å»¶è¿Ÿæ¶ˆæ¯</h3><p>æ­»ä¿¡ï¼šRabbitMQ çš„é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ï¼Œæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä»»æ„å…¶ä¸€ï¼Œå°±ä¼šæˆä¸ºæ­»ä¿¡æ¶ˆæ¯</p><p>â€‹ 1. æ¶ˆæ¯è¢«æ‹’ç»</p><p>â€‹ 2. æ¶ˆæ¯è¿‡æœŸ</p><p>â€‹ 3. é˜Ÿåˆ—å·²æ»¡</p><p>æ­»ä¿¡äº¤æ¢å™¨ï¼šä¸“é—¨ç”¨æ¥è½¬å‘é˜Ÿåˆ—ä¸­çš„æ­»ä¿¡æ¶ˆæ¯ï¼Œå°†æ­»ä¿¡æ¶ˆæ¯è½¬å‘åˆ°æŒ‡å®šçš„é˜Ÿåˆ—ä¸­</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ­»ä¿¡ + æ­»ä¿¡äº¤æ¢å™¨å®ç°å»¶è¿Ÿæ¶ˆæ¯å¤„ç†</p><p>RabbitMQ å®ç°å»¶è¿Ÿæ¶ˆæ¯å¤„ç†ğŸˆ¶2 ç§æ–¹å¼ï¼š</p><p>1. æ­»ä¿¡ + æ­»ä¿¡äº¤æ¢å™¨ ä»£ç å®ç°</p><p>2. å»¶è¿Ÿæ¶ˆæ¯æ’ä»¶</p><p>RabbitMQ åŸºäºæ­»ä¿¡å’Œæ­»ä¿¡äº¤æ¢å™¨å®ç°å»¶è¿Ÿï¼š</p><p>&lt;img src=&quot;RabbitMQ.assets/image-20231016113011364.png&quot; alt=&quot;image-20231016113011364&quot; style=&quot;zoom:67%;&quot; /&gt;</p><p>1. å®šä¹‰éœ€è¦çš„é˜Ÿåˆ—ã€äº¤æ¢å™¨ã€ç»‘å®š</p><pre><code class="language-Java">@Configuration
public class RabbitMQConfig &#123;
    //1.åˆ›å»º2ä¸ªé˜Ÿåˆ—
    @Bean
    public Queue createQ1()&#123;
        //1.è®¾ç½®é˜Ÿåˆ— å†…éƒ¨æ¶ˆæ¯æœ‰æ•ˆæœŸ è®¾ç½®æ­»ä¿¡äº¤æ¢å™¨ è®¾ç½®RK
        Map&lt;String,Object&gt; params=new HashMap&lt;&gt;();
        //è®¾ç½®é˜Ÿåˆ—ä¸­æ¯ä¸ªæ¶ˆæ¯çš„æœ‰æ•ˆæœŸ å•ä½ æ¯«ç§’
        params.put(&quot;x-message-ttl&quot;,3000);
        //è®¾ç½®å¯¹åº”çš„æ­»ä¿¡äº¤æ¢å™¨
        params.put(&quot;x-dead-letter-exchange&quot;,&quot;dead-ex-lx&quot;);
        //è®¾ç½®äº¤æ¢å™¨åŒ¹é…çš„è·¯ç”±åç§°
        params.put(&quot;x-dead-letter-routing-key&quot;,&quot;test&quot;);
        return QueueBuilder.durable(&quot;dl-q01&quot;).withArguments(params).build();
    &#125;
    @Bean
    public Queue createQ2()&#123;
        return new Queue(&quot;dl-q02&quot;);
    &#125;
    //2.åˆ›å»º1ä¸ªäº¤æ¢å™¨ï¼ˆ1.fanout 2.direct 3.topic 4.headerï¼‰-æ­»ä¿¡äº¤æ¢å™¨directç±»å‹
    @Bean
    public DirectExchange createDe()&#123;
        return new DirectExchange(&quot;dead-ex-lx&quot;);
    &#125;
    //3.åˆ›å»º1ä¸ªç»‘å®š
    @Bean
    public Binding createBd1(DirectExchange de)&#123;
        return BindingBuilder.bind(createQ2()).to(de).with(&quot;test&quot;);
    &#125;
&#125;
</code></pre><p>2. å‘é€æ¶ˆæ¯ æ¶ˆæ¯ç»™åˆ°ç¬¬ä¸€ä¸ªé˜Ÿåˆ—</p><pre><code class="language-Java">@RestController
@RequestMapping(&quot;/api/mq/&quot;)
public class DeadController &#123;
    @Resource
    private RabbitTemplate template;

    @GetMapping(&quot;send&quot;)
    public String sendDead(String msg)&#123;
        System.err.println(&quot;å‘é€æ¶ˆæ¯ï¼Œ&quot;+msg+&quot;ï¼Œå‘é€æ—¶é—´ï¼š&quot;+System.currentTimeMillis());
        template.convertAndSend(&quot;&quot;,&quot;dl-q01&quot;,msg);
        return &quot;OK&quot;;
    &#125;
&#125;
</code></pre><p>3. ç›‘å¬æ¶ˆæ¯ æ¶ˆè´¹ ç›‘å¬ç¬¬äºŒä¸ªé˜Ÿåˆ—</p><pre><code class="language-Java">@Component
public class DeadListener &#123;

    @RabbitListener(queues = &quot;dl-q02&quot;)
    public void hanlder(String m)&#123;
        System.err.println(&quot;å»¶è¿Ÿæ¶ˆæ¯ï¼Œ&quot;+m+&quot;ï¼Œæ¥æ”¶æ—¶é—´ï¼š&quot;+System.currentTimeMillis());
    &#125;
&#125;
</code></pre><p>4. è¿è¡Œæµ‹è¯•</p><p><img data-src="/RabbitMQ.assets/image-20231016112942920.png" alt="image-20231016112942920"></p><h2 id="æ‰©å±•"><a class="anchor" href="#æ‰©å±•">#</a> æ‰©å±•</h2><h3 id="1ä»»åŠ¡è°ƒåº¦æ¡†æ¶"><a class="anchor" href="#1ä»»åŠ¡è°ƒåº¦æ¡†æ¶">#</a> 1. ä»»åŠ¡è°ƒåº¦æ¡†æ¶</h3><p>Java ä¸­å¦‚ä½•å®ç°å®šæ—¶ä»»åŠ¡ï¼Ÿ</p><p>æ¯”å¦‚ï¼š</p><p>1. æ¯å¤©æ—©ä¸Š 6 ç‚¹å®šæ—¶æ‰§è¡Œ</p><p>2. æ¯æœˆæœ€åä¸€ä¸ªå·¥ä½œæ—¥ï¼Œè€ƒå‹¤ç»Ÿè®¡</p><p>3. æ¯ä¸ªæœˆ 25 å·ä¿¡ç”¨å¡è¿˜æ¬¾</p><p>4. ä¼šå‘˜ç”Ÿæ—¥ç¥ç¦</p><p>5. æ¯éš” 3 ç§’ï¼Œè‡ªåŠ¨æé†’</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»»åŠ¡è°ƒåº¦æ¡†æ¶å®ç°ä¸Šè¿°çš„éœ€æ±‚</p><p>ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼šå¯ä»¥å®ç°å®šæ—¶ä»»åŠ¡ï¼Œå®ç°é—´éš”å¤šå°‘æ—¶é—´çš„é‡å¤æ‰§è¡Œï¼Œå®ç°æŒ‡å®šæ—¥æœŸçš„é‡å¤æ‰§è¡Œ</p><p>Java ä¸­ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼š</p><p>1.Spring Task</p><p>2.Quartz</p><p>3.XXL-Job</p><p>4. ç¬¬ä¸‰äº‘å¹³å°ï¼šé˜¿é‡Œäº‘ - SchedulerX ç­‰ç­‰</p><p>é€‰æ‹©ä¸€ä¸ªï¼šSpring Taskï¼ˆSpring Scheduledï¼‰</p><p>2 ä¸ªæ³¨è§£ + 1 ä¸ªè¡¨è¾¾å¼</p><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><p>1. å¼€å…³ç±» ä½¿ç”¨æ³¨è§£</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@SpringBootApplication</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@EnableScheduling</span> <span class="token comment">// å¼€å¯ä»»åŠ¡è°ƒåº¦</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringTask01Application</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringTask01Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>2. å®šä¹‰ä»»åŠ¡ - é‡å¤æ‰§è¡Œ</p><pre><code class="language-Java">@Component
public class HelloTask &#123;
    //å®šæ—¶ä»»åŠ¡ï¼Œéœ€è¦é‡å¤æ‰§è¡Œçš„æ–¹æ³•ï¼Œå¹¶è®¾ç½®è§¦å‘çš„è§„åˆ™
    //æ¯éš”3ç§’ï¼Œé‡å¤æ‰§è¡Œ
    //CRONè¡¨è¾¾å¼ å°±æ˜¯è®¾ç½®å®šæ—¶ä»»åŠ¡çš„æ—¶é—´å…³ç³»çš„ç‰¹æ®Šçš„å­—ç¬¦ä¸²
    //è¯­æ³•æ ¼å¼ï¼šç§’ åˆ† æ—¶ æ—¥ æœˆ æ˜ŸæœŸå‡  å¹´ å…¶ä¸­ï¼Œåªæœ‰å¹´å¯ä»¥çœç•¥
    @Scheduled(cron = &quot;0/3 * * * * ?&quot;)
    public void task1()&#123;
        System.err.println(&quot;æ¯éš”3ç§’ï¼ŒæŸ¥çœ‹åŒæ¡ŒçŠ¶æ€ï¼&quot;+System.currentTimeMillis());
    &#125;
&#125;
</code></pre><p>3. è¿è¡ŒæŸ¥çœ‹æ•ˆæœ</p><p><img data-src="RabbitMQ.assets/image-20231016101548712.png" alt="image-20231016101548712"></p><p>CRON è¡¨è¾¾å¼ï¼šç‰¹æ®Šå­—ç¬¦ä¸²ï¼Œä¸»è¦ç”¨æ¥æè¿°æ—¶é—´çš„ï¼Œç”¨äºä»»åŠ¡è°ƒåº¦ç­‰</p><p><img data-src="RabbitMQ.assets/image-20231016102801441.png" alt="image-20231016102801441"></p><p>æ¯ä¸€ä¸ªåŸŸéƒ½ä½¿ç”¨æ•°å­—ï¼Œä½†è¿˜å¯ä»¥å‡ºç°å¦‚ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼Œå®ƒä»¬çš„å«ä¹‰æ˜¯ï¼š</p><blockquote><p>ï¼ˆ1ï¼‰* ï¼šè¡¨ç¤ºåŒ¹é…è¯¥åŸŸçš„ä»»æ„å€¼ã€‚å‡å¦‚åœ¨ Minutes åŸŸä½¿ç”¨ *ï¼Œå³è¡¨ç¤ºæ¯åˆ†é’Ÿéƒ½ä¼šè§¦å‘äº‹ä»¶ã€‚</p><p>ï¼ˆ2ï¼‰?ï¼šåªèƒ½ç”¨åœ¨ DayofMonth å’Œ DayofWeek ä¸¤ä¸ªåŸŸã€‚å®ƒä¹ŸåŒ¹é…åŸŸçš„ä»»æ„å€¼ï¼Œä½†å®é™…ä¸ä¼šã€‚å› ä¸º DayofMonth å’Œ DayofWeek ä¼šç›¸äº’å½±å“ã€‚</p><p>ä¾‹å¦‚ï¼šæƒ³åœ¨æ¯æœˆçš„ 20 æ—¥è§¦å‘è°ƒåº¦ï¼Œä¸ç®¡ 20 æ—¥åˆ°åº•æ˜¯æ˜ŸæœŸå‡ ï¼Œåˆ™åªèƒ½ä½¿ç”¨å¦‚ä¸‹å†™æ³•ï¼š 13 13 15 20 * ?ï¼Œå…¶ä¸­æœ€åä¸€ä½åªèƒ½ç”¨ï¼Ÿï¼Œè€Œä¸èƒ½ä½¿ç”¨ *ï¼Œå¦‚æœä½¿ç”¨ * è¡¨ç¤ºä¸ç®¡æ˜ŸæœŸå‡ éƒ½ä¼šè§¦å‘ï¼Œå®é™…ä¸Šå¹¶ä¸æ˜¯è¿™æ ·ã€‚</p><p>ï¼ˆ3ï¼‰-ï¼šè¡¨ç¤ºèŒƒå›´ã€‚ä¾‹å¦‚åœ¨ Minutes åŸŸä½¿ç”¨ 5-20ï¼Œè¡¨ç¤ºä» 5 åˆ†åˆ° 20 åˆ†é’Ÿæ¯åˆ†é’Ÿè§¦å‘ä¸€æ¬¡</p><p>ï¼ˆ4ï¼‰/ï¼šè¡¨ç¤ºèµ·å§‹æ—¶é—´å¼€å§‹è§¦å‘ï¼Œç„¶åæ¯éš”å›ºå®šæ—¶é—´è§¦å‘ä¸€æ¬¡ã€‚ä¾‹å¦‚åœ¨ Minutes åŸŸä½¿ç”¨ 5/20ï¼Œåˆ™æ„å‘³ç€ 5 åˆ†é’Ÿè§¦å‘ä¸€æ¬¡ï¼Œè€Œ 25ï¼Œ45 ç­‰åˆ†åˆ«è§¦å‘ä¸€æ¬¡.ã€‚</p><p>ï¼ˆ5ï¼‰,ï¼šè¡¨ç¤ºåˆ—å‡ºæšä¸¾å€¼ã€‚ä¾‹å¦‚ï¼šåœ¨ Minutes åŸŸä½¿ç”¨ 5,20ï¼Œåˆ™æ„å‘³ç€åœ¨ 5 å’Œ 20 åˆ†æ¯åˆ†é’Ÿè§¦å‘ä¸€æ¬¡ã€‚</p><p>ï¼ˆ6ï¼‰Lï¼šè¡¨ç¤ºæœ€åï¼Œåªèƒ½å‡ºç°åœ¨ DayofWeek å’Œ DayofMonth åŸŸã€‚å¦‚æœåœ¨ DayofWeek åŸŸä½¿ç”¨ 5Lï¼Œæ„å‘³ç€åœ¨æœ€åçš„ä¸€ä¸ªæ˜ŸæœŸå››è§¦å‘ã€‚</p><p>ï¼ˆ7ï¼‰Wï¼šè¡¨ç¤ºæœ‰æ•ˆå·¥ä½œæ—¥ (å‘¨ä¸€åˆ°å‘¨äº”)ï¼Œåªèƒ½å‡ºç°åœ¨ DayofMonth åŸŸï¼Œç³»ç»Ÿå°†åœ¨ç¦»æŒ‡å®šæ—¥æœŸçš„æœ€è¿‘çš„æœ‰æ•ˆå·¥ä½œæ—¥è§¦å‘äº‹ä»¶ã€‚</p><p>ä¾‹å¦‚ï¼šåœ¨ DayofMonth ä½¿ç”¨ 5Wï¼Œå¦‚æœ 5 æ—¥æ˜¯æ˜ŸæœŸå…­ï¼Œåˆ™å°†åœ¨æœ€è¿‘çš„å·¥ä½œæ—¥ï¼šæ˜ŸæœŸäº”ï¼Œå³ 4 æ—¥è§¦å‘ã€‚å¦‚æœ 5 æ—¥æ˜¯æ˜ŸæœŸå¤©ï¼Œåˆ™åœ¨ 6 æ—¥ (å‘¨ä¸€) è§¦å‘ï¼›å¦‚æœ 5 æ—¥åœ¨æ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸäº”ä¸­çš„ä¸€å¤©ï¼Œåˆ™å°±åœ¨ 5 æ—¥è§¦å‘ã€‚å¦å¤–ä¸€ç‚¹ï¼ŒW çš„æœ€è¿‘å¯»æ‰¾ä¸ä¼šè·¨è¿‡æœˆä»½ ã€‚</p><p>ï¼ˆ8ï¼‰LWï¼šè¿™ä¸¤ä¸ªå­—ç¬¦å¯ä»¥è¿ç”¨ï¼Œè¡¨ç¤ºåœ¨æŸä¸ªæœˆæœ€åä¸€ä¸ªå·¥ä½œæ—¥ã€‚</p><p>ï¼ˆ9ï¼‰#ï¼šç”¨äºç¡®å®šæ¯ä¸ªæœˆç¬¬å‡ ä¸ªæ˜ŸæœŸå‡ ï¼Œåªèƒ½å‡ºç°åœ¨ DayofWeek åŸŸã€‚ä¾‹å¦‚åœ¨ 4#2ï¼Œè¡¨ç¤ºæŸæœˆçš„ç¬¬äºŒä¸ªæ˜ŸæœŸä¸‰ã€‚</p></blockquote><p><span class="exturl" data-url="aHR0cHM6Ly9jcm9uLnFxZTIuY29tLw==">https://cron.qqe2.com/</span></p><p><img data-src="RabbitMQ.assets/image-20231016103550581.png" alt="image-20231016103550581"></p><div class="tags"><a href="/tags/RabbitMQ/" rel="tag"><i class="ic i-tag"></i>RabbitMQ</a><a href="/tags/Linux/" rel="tag"><i class="ic i-tag"></i>Linux</a></div></div><footer><div class="meta"><span class="icon"><i class="ic i-eye"></i></span><span>æ­¤æ–‡ç« å·²è¢«é˜…è¯»æ¬¡æ•°:</span><span class="waline-pageview-count" id="twikoo_visitors" data-path="2023/10/22/Linux/docker/RabbitMQ/RabbitMQ/">æ­£åœ¨åŠ è½½...</span><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">æ›´æ–°äº</span><time title="ä¿®æ”¹æ—¶é—´ï¼š2023-10-23 01:50:06" itemprop="dateModified" datetime="2023-10-23T01:50:06+08:00">2023-10-23</time></span><script type="module" data-pjax="data-pjax">import { pageviewCount } from 'https://unpkg.com/@waline/client/dist/pageview.mjs';

const path = document.getElementById("twikoo_visitors").getAttribute("data-path");
pageviewCount({
    serverURL: 'waline-biya.vercel.app',
    path: path,
});</script></div><div class="reward"><button><i class="ic i-heartbeat"></i>èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/assets/wechatpay.png" alt="biya å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/assets/alipay.png" alt="biya æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div><div><img data-src="/assets/paypal.png" alt="biya è´å®"><p>è´å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>biya<i class="ic i-at"><em>@</em></i>å¤¢ã®ãªã„è³¢é­šã§ã™</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="http://example.com/2023/10/22/Linux/docker/RabbitMQ/RabbitMQ/" title="RabbitMQ">http://example.com/2023/10/22/Linux/docker/RabbitMQ/RabbitMQ/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/10/22/computer-science/cpp/course-1/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/" rel="prev" itemprop="url" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclh5u05ej20zk0m87df.jpg" title="hi biya"><span class="type">ä¸Šä¸€ç¯‡</span><span class="category"><i class="ic i-flag"></i>Linux</span><h3>hi biya</h3></a></div><div class="item right"><a href="/2023/10/23/Linux/docker/vue3%E9%80%9F%E6%88%9010.17/Vue3%E9%80%9F%E6%88%90/" rel="next" itemprop="url" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipeuv80yoj20zk0m8kjl.jpg" title="æœªå‘½å"><span class="type">ä¸‹ä¸€ç¯‡</span><h3>æœªå‘½å</h3></a></div></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-mq"><span class="toc-number">1.</span> <span class="toc-text">ä¸€ã€MQ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-mq"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 MQ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-rabbitmq"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 RabbitMQ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 åˆä½“éªŒ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-rabbitmq%E6%A0%B8%E5%BF%83"><span class="toc-number">2.</span> <span class="toc-text">äºŒã€RabbitMQ æ ¸å¿ƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-%E6%B6%88%E6%81%AF%E6%A8%A1%E5%BC%8F-%E7%AE%80%E5%8D%95%E6%B6%88%E6%81%AF"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 æ¶ˆæ¯æ¨¡å¼ - ç®€å•æ¶ˆæ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-%E6%B6%88%E6%81%AF%E6%A8%A1%E5%BC%8F-work%E6%B6%88%E6%81%AF"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 æ¶ˆæ¯æ¨¡å¼ - Work æ¶ˆæ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23%E6%B6%88%E6%81%AF%E6%A8%A1%E5%BC%8F-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85"><span class="toc-number">2.3.</span> <span class="toc-text">2.3. æ¶ˆæ¯æ¨¡å¼ - å‘å¸ƒè®¢é˜…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-%E6%B6%88%E6%81%AF%E6%A8%A1%E5%BC%8F-%E8%B7%AF%E7%94%B1%E5%8C%B9%E9%85%8D"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 æ¶ˆæ¯æ¨¡å¼ - è·¯ç”±åŒ¹é…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-%E6%B6%88%E6%81%AF%E6%A8%A1%E5%BC%8F-%E4%B8%BB%E9%A2%98%E6%B6%88%E6%81%AF"><span class="toc-number">2.5.</span> <span class="toc-text">2.5 æ¶ˆæ¯æ¨¡å¼ - ä¸»é¢˜æ¶ˆæ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#26-%E6%AD%BB%E4%BF%A1%E5%BB%B6%E8%BF%9F%E6%B6%88%E6%81%AF"><span class="toc-number">2.6.</span> <span class="toc-text">2.6 æ­»ä¿¡ + å»¶è¿Ÿæ¶ˆæ¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95"><span class="toc-number">3.</span> <span class="toc-text">æ‰©å±•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E6%A1%86%E6%9E%B6"><span class="toc-number">3.1.</span> <span class="toc-text">1. ä»»åŠ¡è°ƒåº¦æ¡†æ¶</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li class="active"><a href="/2023/10/22/Linux/docker/RabbitMQ/RabbitMQ/" rel="bookmark" title="RabbitMQ">RabbitMQ</a></li><li><a href="/2023/10/22/computer-science/cpp/course-1/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/" rel="bookmark" title="hi biya">hi biya</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="biya" data-src="/assets/avatar.jpg"><p class="name" itemprop="name">biya</p><div class="description" itemprop="description">æ‘¸é±¼ä¹‹é“ï¼Œå°±åœ¨å…¶ä¸­</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">5</span><span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">2</span><span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">2</span><span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><a href="https://github.com/name" class="item github" rel="noopener" title="https:&#x2F;&#x2F;github.com&#x2F;name" target="_blank"><i class="ic i-github"></i></a><a href="https://www.zhihu.com/people/xin-han-91-91" class="item zhihu" rel="noopener" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;xin-han-91-91" target="_blank"><i class="ic i-zhihu"></i></a><a href="https://music.163.com/#/user/home?id=1657896798" class="item music" rel="noopener" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;1657896798" target="_blank"><i class="ic i-cloud-music"></i></a><a href="https://about.me/biyahan" class="item about" rel="noopener" title="https:&#x2F;&#x2F;about.me&#x2F;biyahan" target="_blank"><i class="ic i-address-card"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-user"></i>å…³äº</a><ul class="submenu"><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>å…³äºæœ¬ç«™</a></li><li class="item"><a href="/admiration/" rel="section"><i class="ic i-coffee"></i>èµèµåšä¸»</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>å‹é”</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/10/23/Linux/docker/vue3%E9%80%9F%E6%88%9010.17/Vue3%E9%80%9F%E6%88%90/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/10/22/computer-science/cpp/course-1/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2023/10/23/Linux/docker/vue3%E9%80%9F%E6%88%9010.17/Vue3%E9%80%9F%E6%88%90/">æœªå‘½å</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/10/21/hello-world/">Hello World</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/docker/" title="åˆ†ç±»äºdocker">docker</a><i class="ic i-angle-right"></i><a href="/categories/docker/Linux/" title="åˆ†ç±»äºLinux">Linux</a></div><span><a href="/2023/10/22/computer-science/cpp/course-1/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/">hi biya</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/10/23/Linux/docker/docker/4-01Docker/">æœªå‘½å</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/docker/" title="åˆ†ç±»äºdocker">docker</a><i class="ic i-angle-right"></i><a href="/categories/docker/Linux/" title="åˆ†ç±»äºLinux">Linux</a></div><span><a href="/2023/10/22/Linux/docker/RabbitMQ/RabbitMQ/">RabbitMQ</a></span></li></ul></div><div class="rpost pjax"><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment" id="new-comment"></ul></div></div><div class="status"><div class="copyright"><span itemprop="copyrightYear">2023</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">biya @ Ya Hallo</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="ç«™ç‚¹æ€»å­—æ•°">38k å­—</span><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">35 åˆ†é’Ÿ</span></div><div class="powered-by">åŸºäº <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & Theme.<a href="https://github.com/theme-shoka-x/hexo-theme-shokaX/" rel="noopener" target="_blank">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/10/22/Linux/docker/RabbitMQ/RabbitMQ/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,chart:!1,copy_tex:!1,katex:!1,mermaid:!1,audio:["https://music.163.com/song?id=1387098940"],fancybox:!0,nocopy:!1,outime:!0,template:'<div class="note warning"><p><span class="label warning">æ–‡ç« æ—¶æ•ˆæ€§æç¤º</span><br>è¿™æ˜¯ä¸€ç¯‡å‘å¸ƒäº {{publish}} å¤©å‰ï¼Œæœ€åä¸€æ¬¡æ›´æ–°åœ¨ {{updated}} å¤©å‰çš„æ–‡ç« ï¼Œéƒ¨åˆ†ä¿¡æ¯å¯èƒ½å·²ç»å‘ç”Ÿæ”¹å˜ï¼Œè¯·æ³¨æ„ç”„åˆ«ã€‚</p></div>',quiz:{choice:"å•é€‰é¢˜",multiple:"å¤šé€‰é¢˜",true_false:"åˆ¤æ–­é¢˜",essay:"é—®ç­”é¢˜",gap_fill:"å¡«ç©ºé¢˜",mistake:"é”™é¢˜å¤‡æ³¨"},ignores:[e=>e.includes("#"),e=>new RegExp(LOCAL.path+"$").test(e),[]]}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=default,fetch"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/pace/1.0.2/pace.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/algoliasearch/4.12.1/algoliasearch-lite.umd.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/instantsearch.js/4.39.0/instantsearch.production.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/quicklink/2.2.0/quicklink.umd.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/??jquery/3.5.1/jquery.min.js,fancybox/3.5.7/jquery.fancybox.min.js,justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" async></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/KaTeX/0.15.2/contrib/copy-tex.min.js" async></script><script src="/js/app.js?v=0.3.6"></script><script data-pjax="data-pjax">var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?true",e.async=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><script>!function(t,e,n,c,r,a){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(c)).async=1,r.src="https://www.clarity.ms/tag/true",(a=e.getElementsByTagName(c)[0]).parentNode.insertBefore(r,a)}(window,document,"clarity","script")</script><script async src="https://www.googletagmanager.com/gtag/js?id=true"></script><script data-pjax="data-pjax">function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","true")</script></body></html><!-- rebuild by hexo-renderer-multi-next-markdown-it -->