<!-- build time: Sat Nov 04 2023 21:49:44 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><meta name="msvalidate.01" content="1234"><link rel="alternate" href="/rss.xml" title="夢のない賢魚です" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="夢のない賢魚です" type="application/atom+xml"><link rel="alternate" type="application/json" title="夢のない賢魚です" href="https://sbysg.github.io/feed.json"><link rel="preconnect" href="https://lf9-cdn-tos.bytecdntp.com"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://unpkg.com"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.3.6"><script src="https://cdn.staticfile.org/vue/3.2.45/vue.global.prod.js"></script><meta name="keywords" content="mybatis"><link rel="canonical" href="https://sbysg.github.io/2023/10/22/springframe/spring/mybatis/mybatis/MyBatis/"><title>mybatis</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">mybatis</h1><div class="meta"><span class="item" title="创建时间：2023-10-22 00:09:40"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">发表于</span><time itemprop="dateCreated datePublished" datetime="2023-10-22T00:09:40+08:00">2023-10-22</time></span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i></span><span class="text">本文字数</span><span>14k</span><span class="text">字</span></span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i></span><span class="text">阅读时长</span><span>13 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Ya Hallo</a></li></ul><ul class="right" id="rightNav"><li class="item theme" @click="changeThemeByBtn"><i class="ic" :class="{'i-sun': !themeStatus,'i-moon': themeStatus}"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipewf5l51j20zk0m8b29.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipevo9j1jj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclflwv2aj20zk0m84qp.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipexw3o58j20zk0m8e81.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipexj2jgzj20zk0m8b09.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipeu1usa7j20zk0m8b29.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemlistelement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">首页</a></span><i class="ic i-angle-right"></i><span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/springframe/" itemprop="item" rel="index" title="分类于Java框架"><span itemprop="name">Java框架<meta itemprop="position" content="0"></span></a></span><i class="ic i-angle-right"></i><span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/springframe/spring/" itemprop="item" rel="index" title="分类于Spring全家桶"><span itemprop="name">Spring全家桶<meta itemprop="position" content="1"></span></a></span><i class="ic i-angle-right"></i><span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/springframe/spring/mybatis/" itemprop="item" rel="index" title="分类于Mybatis"><span itemprop="name">Mybatis<meta itemprop="position" content="2"></span></a></span></div><article class="post block" itemscope itemtype="http://schema.org/Article" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://sbysg.github.io/2023/10/22/springframe/spring/mybatis/mybatis/MyBatis/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"><meta itemprop="name" content="biya"><meta itemprop="description" content="biya, 摸鱼之道，就在其中"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="夢のない賢魚です"></span><div class="body md" itemprop="articleBody"><p>[toc]</p><h2 id="mybatis"><a class="anchor" href="#mybatis">#</a> MyBatis</h2><h4 id="1-框架和-orm"><a class="anchor" href="#1-框架和-orm">#</a> 1. 框架和 ORM</h4><pre><code>框架:
	项目，软件，应用的半成品，方便开发的执行，提高开发效率，同时框架解决了【普适性问题】

ORM:
	对象关系映射(Object Relational Mapping)，仅考虑数据库情况，Java 中的一个对象对应数据库中的数据信息。

ORM框架解决数据库问题，目前比较流行的就是 ===&gt; MyBatis
	之前按照原生 JDBC 方式完成的 BaseDao 和 JdbcUtils 工具类封装确实解决了 ORM 操作繁琐问题，但是还是缺少一些内容，例如
	1. 事务操作
	2. 缓存机制
	3. 数据库映射关系对照问题，字段名处理，数据类型处理
</code></pre><h4 id="2-mybatis-概述"><a class="anchor" href="#2-mybatis-概述">#</a> 2. MyBatis 概述</h4><ul><li>MyBatis 本是 Apache 软件基金会的一个开源项目 iBatis, 2010 年这个项目由 apache software foundation 迁移到了 Google Code，并且改名为 MyBatis 。2013 年 11 月迁移到 GitHub。</li><li>MyBatis 是一个<a href="">优秀的基于 Java 的持久层框架</a>，支持自定义 SQL，存储过程和高级映射。</li><li>MyBatis <a href="">对原有 JDBC 操作进行了封装</a>，几乎消除了所有 JDBC 代码，使开发者只需关注 SQL 本身。</li><li>MyBatis 可以使用简单的 XML 或 Annotation 来配置执行 SQL，并<a href="">自动完成 ORM 操作</a>，将执行结果返回。</li><li>后期学习 MyBatis-Plus</li></ul><h4 id="3-java-maven-项目引入-mybatis-和-配置重点"><a class="anchor" href="#3-java-maven-项目引入-mybatis-和-配置重点">#</a> 3. Java Maven 项目引入 MyBatis 和 配置【重点】</h4><h5 id="31-导入-mybatis-核心-pom-文件依赖"><a class="anchor" href="#31-导入-mybatis-核心-pom-文件依赖">#</a> 3.1 导入 MyBatis 核心 POM 文件依赖</h5><blockquote><p>核心依赖</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">&lt;!-- Java 链接数据库必要的 MySQL 驱动 --></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.1.47<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment">&lt;!-- 引入 MyBatis 依赖 --></span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.4.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h5 id="32-创建-mybatis-xml-文件配置"><a class="anchor" href="#32-创建-mybatis-xml-文件配置">#</a> 3.2 创建 MyBatis XML 文件配置</h5><blockquote><p>后续可以设置 IDEA MyBatis 配置文件模版，方便操作。</p><p>配置文件名称 mybatis-config.xml 存储路径是 src/main/resources/ Maven 项目资源文件 / 配置文件路径</p></blockquote><blockquote><p>利用 jdbc.properties 文件配置数据库连接的必要资源</p></blockquote><figure class="highlight properties"><figcaption data-lang=".properties"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># jdbc.properties</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token key attr-name">jdbc.driver</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token key attr-name">jdbc.url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:3306/java2308?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token key attr-name">jdbc.username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token key attr-name">jdbc.password</span><span class="token punctuation">=</span><span class="token value attr-value">123456</span></pre></td></tr></table></figure><blockquote><p>mybatis-config.xml 基本内容</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span> <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">&lt;!-- MyBatis 配置文件 --></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    在 environments 标签之前，利用 properties 标签引入 jdbc.properties 文件。</pre></td></tr><tr><td data-num="8"></td><td><pre>    MyBatis 加载对应配置文件是，会自动加 jdbc.properties 解析获取。</pre></td></tr><tr><td data-num="9"></td><td><pre>    --></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc.properties<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    JDBC 环境配置和默认环境选择</pre></td></tr><tr><td data-num="14"></td><td><pre>    environments 标签中可以配置多个 JDBC 环境，default 是告知 MyBatis 默认</pre></td></tr><tr><td data-num="15"></td><td><pre>    数据库连接环境是哪一个，需要对应 environment 标签的 id 属性</pre></td></tr><tr><td data-num="16"></td><td><pre>     --></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MySqlDB<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MySqlDB<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            transactionManager 事务管理器，当前情况下按照 JDBC 模式管理数据库事务</pre></td></tr><tr><td data-num="21"></td><td><pre>            --></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>JDBC<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            dataSource 数据源。数据库连接池，后续引入 Druid 数据库连接池</pre></td></tr><tr><td data-num="25"></td><td><pre>            默认按照默认的数据库连接池管理处理</pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>            配置数据库连接的相关资源，期望引入 jdbc.properties 文件</pre></td></tr><tr><td data-num="28"></td><td><pre>            --></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="30"></td><td><pre>                <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="31"></td><td><pre>                数据库连接对应的相关资源，通过 $&#123;properties 文件属性名称引入对应的数据&#125;</pre></td></tr><tr><td data-num="32"></td><td><pre>                --></pre></td></tr><tr><td data-num="33"></td><td><pre>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.driver&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="34"></td><td><pre>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.url&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="35"></td><td><pre>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.username&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="36"></td><td><pre>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.password&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="38"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h4 id="4-mybatis-开发流程重点"><a class="anchor" href="#4-mybatis-开发流程重点">#</a> 4. MyBatis 开发流程【重点】</h4><h5 id="41-创建数据表"><a class="anchor" href="#41-创建数据表">#</a> 4.1 创建数据表</h5><pre><code class="language-mysql">CREATE TABLE `tb_user`
(
    `id`         int(11)       NOT NULL AUTO_INCREMENT COMMENT '用户 ID',
    `username`   varchar(32)   NOT NULL COMMENT '用户名',
    `gender`     tinyint(1)    NOT NULL COMMENT '性别',
    `password`   varchar(32)   NOT NULL COMMENT '密码',
    `phone`      varchar(32)   NOT NULL COMMENT '手机号',
    `money`      double(10, 2) NOT NULL COMMENT '余额',
    `createTime` datetime      NOT NULL COMMENT '注册 时间',
    PRIMARY KEY (`id`)
) ENGINE = InnoDB
  AUTO_INCREMENT = 1
  DEFAULT CHARSET = utf8;
</code></pre><h5 id="42-根据数据表创建对应的实体类"><a class="anchor" href="#42-根据数据表创建对应的实体类">#</a> 4.2 根据数据表创建对应的实体类</h5><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>a_mybatis<span class="token punctuation">.</span>entity</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="8"></td><td><pre> * @author Anonymous 2023/7/3 10:44</pre></td></tr><tr><td data-num="9"></td><td><pre> */</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token annotation punctuation">@Data</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> gender<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">String</span> phone<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">Double</span> money<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">Date</span> createTime<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h5 id="43-完成-userdao-接口"><a class="anchor" href="#43-完成-userdao-接口">#</a> 4.3 完成 UserDao 接口</h5><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>a_mybatis<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>a_mybatis<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="6"></td><td><pre> * @author Anonymous 2023/7/3 10:45</pre></td></tr><tr><td data-num="7"></td><td><pre> */</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">/**</span></pre></td></tr><tr><td data-num="10"></td><td><pre>     * 根据 用户 ID 查询对应的 User 对象</pre></td></tr><tr><td data-num="11"></td><td><pre>     *</pre></td></tr><tr><td data-num="12"></td><td><pre>     * @param id 用户 id</pre></td></tr><tr><td data-num="13"></td><td><pre>     * @return User 对象</pre></td></tr><tr><td data-num="14"></td><td><pre>     */</pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token class-name">User</span> <span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h5 id="44-重点编写-mapperxml-文件"><a class="anchor" href="#44-重点编写-mapperxml-文件">#</a> 4.4 【重点】编写 Mapper.xml 文件</h5><blockquote><p>存储位置是 /src/main/resources 资源目录下，对应 UserDao 接口的 Mapper.xml 文件。可以直接认为 Mapper 文件是 Dao 层接口的实现类内容，MyBatis 会根据 UserDao 接口和对应的 Mapper.xml 完成 JDBC 操作</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="6"></td><td><pre>namespace 命名空间，绑定当前 Mapper 文件对应的 Dao 层接口是哪一个。</pre></td></tr><tr><td data-num="7"></td><td><pre>UserDaoMapper.xml &lt;==> UserDao.java</pre></td></tr><tr><td data-num="8"></td><td><pre>提供对应 Dao 接口的完整的包名。类名</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>墙裂推荐安装 IDEA 查询 MyBatisX</pre></td></tr><tr><td data-num="11"></td><td><pre>--></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.qfedu.a_mybatis.dao.UserDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    UserDaoMapper.xml 和 UserDao.java 已绑定！</pre></td></tr><tr><td data-num="15"></td><td><pre>    需要完成 selectUserById 方法执行目标内容。</pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>    MyBatis 操作流程</pre></td></tr><tr><td data-num="18"></td><td><pre>        1. 明确当前操作为 搜索操作，对应的标签为 &lt;select>&lt;/select></pre></td></tr><tr><td data-num="19"></td><td><pre>        2. id 属性对应目标方法名称，表示当前 select 标签绑定对应的方法内容，也是方法</pre></td></tr><tr><td data-num="20"></td><td><pre>        执行的目标 SQL 语句内容</pre></td></tr><tr><td data-num="21"></td><td><pre>        3. resultType => 结果类型，当前查询结果对应的 Java 数据类型，MyBatis 会自动</pre></td></tr><tr><td data-num="22"></td><td><pre>        根据字段名称和 JavaBean 成员变量名称完成映射关系。</pre></td></tr><tr><td data-num="23"></td><td><pre>        4. 根据当前方法的参数情况，在 SQL 语句中提醒，需要使用参数占位符</pre></td></tr><tr><td data-num="24"></td><td><pre>    --></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUserById<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.qfedu.a_mybatis.entity.User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        需要给予当前 SQL 语句参数，SQL 语句参数使用 #&#123;arg0&#125;  #&#123;arg1&#125;  #&#123;arg2&#125;</pre></td></tr><tr><td data-num="28"></td><td><pre>        MyBatis 会根据方法的参数情况，自动将参数给予当前 SQL 语句</pre></td></tr><tr><td data-num="29"></td><td><pre>        --></pre></td></tr><tr><td data-num="30"></td><td><pre>        select * from tb_user where id = #&#123;arg0&#125;;</pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h5 id="45-mybatis-配置文件注册-mapperxml-文件"><a class="anchor" href="#45-mybatis-配置文件注册-mapperxml-文件">#</a> 4.5 MyBatis 配置文件注册 Mapper.xml 文件</h5><blockquote><p>在 MyBatis-config.xml 文件中使用 Mappers 标签注册对应的 Mapper.xml 文件</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="2"></td><td><pre>MyBatis 注册 Mapper.xml 文件。</pre></td></tr><tr><td data-num="3"></td><td><pre>--></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">&lt;!-- 对应 Mapper 文件名称 --></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UserDaoMapper.xml<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h5 id="46-测试重点"><a class="anchor" href="#46-测试重点">#</a> 4.6 测试【重点】</h5><blockquote><p>引入 JUnit 测试工具</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!-- lombok 小辣椒 --></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.18.26<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">&lt;!-- JUnit 测试工具 --></span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.13.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    scope test 表示当前 junit 有且只能用于</pre></td></tr><tr><td data-num="14"></td><td><pre>     src/test/java</pre></td></tr><tr><td data-num="15"></td><td><pre>     --></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><blockquote><p>MyBatisTest.java 测试程序，所在包 src/test/java</p></blockquote><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>a_mybatis</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>a_mybatis<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">UserDao</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>a_mybatis<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="15"></td><td><pre> * src/test/java</pre></td></tr><tr><td data-num="16"></td><td><pre> *</pre></td></tr><tr><td data-num="17"></td><td><pre> * Resources:</pre></td></tr><tr><td data-num="18"></td><td><pre> *      org.apache.ibatis.io.Resources MyBatis 自动数据类型，可以通过 IO 流方式获取对应配置文件</pre></td></tr><tr><td data-num="19"></td><td><pre> *      输入流对象</pre></td></tr><tr><td data-num="20"></td><td><pre> * SqlSessionFactory:</pre></td></tr><tr><td data-num="21"></td><td><pre> *      SqlSession 工厂，核心类，管理数据库连接对象工厂</pre></td></tr><tr><td data-num="22"></td><td><pre> * SqlSession:</pre></td></tr><tr><td data-num="23"></td><td><pre> *      可以等价认为是 JDBC Connection 数据库连接对象，可以用处理 SQL 语句</pre></td></tr><tr><td data-num="24"></td><td><pre> *</pre></td></tr><tr><td data-num="25"></td><td><pre> *</pre></td></tr><tr><td data-num="26"></td><td><pre> * @author Anonymous 2023/7/3 11:11</pre></td></tr><tr><td data-num="27"></td><td><pre> */</pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBatisTest</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testMyBatisSelect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token comment">// 1. 获取 MyBatis 配置文件输入流对象</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token class-name">InputStream</span> resourceAsStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"mybatis-config.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>        <span class="token comment">// 2. 利用 MyBatis 配置文件输入流对象，创建 SqlSessionFactory 工厂</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token class-name">SqlSessionFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>resourceAsStream<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre>        <span class="token comment">// 3. 通过 SqlSessionFactory 工厂 。获取 SqlSession</span></pre></td></tr><tr><td data-num="38"></td><td><pre>        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>        <span class="token comment">/*</span></pre></td></tr><tr><td data-num="41"></td><td><pre>        4. 【核心内容】</pre></td></tr><tr><td data-num="42"></td><td><pre>            MyBatis 根据 UserDao 接口和 UserDaoMapper.xml 文件创建对应的</pre></td></tr><tr><td data-num="43"></td><td><pre>            UserDao 接口实现类对象。</pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>            getMapper 方法所需参数是 目标接口的 Class 对象，获取对应</pre></td></tr><tr><td data-num="46"></td><td><pre>            UserDao 实现类对象，使用 UserDao 接口引用变量指向当前实现类对象、</pre></td></tr><tr><td data-num="47"></td><td><pre>         */</pre></td></tr><tr><td data-num="48"></td><td><pre>        <span class="token class-name">UserDao</span> userDao <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre></pre></td></tr><tr><td data-num="50"></td><td><pre>        <span class="token comment">/*</span></pre></td></tr><tr><td data-num="51"></td><td><pre>        5. 通过 UserDao 实现类对象，调用目标方法，获取 User 对象</pre></td></tr><tr><td data-num="52"></td><td><pre>         */</pre></td></tr><tr><td data-num="53"></td><td><pre>        <span class="token class-name">User</span> user <span class="token operator">=</span> userDao<span class="token punctuation">.</span><span class="token function">selectUserById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="56"></td><td><pre></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="5-mybatis-简单优化小细节"><a class="anchor" href="#5-mybatis-简单优化小细节">#</a> 5. MyBatis 简单优化小细节</h4><h5 id="51-mapperxml-文件存储路径修改"><a class="anchor" href="#51-mapperxml-文件存储路径修改">#</a> 5.1 Mapper.xml 文件存储路径修改</h5><blockquote><p>移动 UserDaoMapper 到 UserDao 所在包下，导致错误</p></blockquote><p><img data-src="img/01-UserDaoMapper%E8%B7%AF%E5%BE%84%E4%BF%AE%E6%94%B9%E9%94%99%E8%AF%AF.png" alt=""></p><blockquote><p>告知整个 Java 项目，当前配置文件路径 / 资源文件路径还有那些，有那些文件是资源配置文件。需要修改 pom 文件，修改 resource 资源文件相关配置</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="2"></td><td><pre>POM 文件 build 标签，限制当前项目的编译规则</pre></td></tr><tr><td data-num="3"></td><td><pre>--></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    resources 配置当前项目的新资源</pre></td></tr><tr><td data-num="7"></td><td><pre>    --></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        具体资源内容，需要告知目标路径和对应的包含文件内容</pre></td></tr><tr><td data-num="11"></td><td><pre>        --></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>            <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            资源文件路径</pre></td></tr><tr><td data-num="15"></td><td><pre>              src/main/java 项目中整个 Java 代码根路径</pre></td></tr><tr><td data-num="16"></td><td><pre>              --></pre></td></tr><tr><td data-num="17"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="18"></td><td><pre>            <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            包含规则</pre></td></tr><tr><td data-num="20"></td><td><pre>            --></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="22"></td><td><pre>                <span class="token comment">&lt;!-- 1. 当前目录下的所有 .xml 文件 --></span></pre></td></tr><tr><td data-num="23"></td><td><pre>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="24"></td><td><pre>                <span class="token comment">&lt;!-- 2. 忽略层级关系所有的 .xml 文件 --></span></pre></td></tr><tr><td data-num="25"></td><td><pre>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><blockquote><p>修改 MyBatis-config.xml 注册 Mapper 规则</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="2"></td><td><pre>MyBatis 注册 Mapper.xml 文件。</pre></td></tr><tr><td data-num="3"></td><td><pre>--></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">&lt;!-- 对应 Mapper 文件名称 --></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment">&lt;!-- &lt;mapper resource="UserDaoMapper.xml"/> --></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com/qfedu/a_mybatis/dao/mapper/UserDaoMapper.xml<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h5 id="52-类型别名简化书写"><a class="anchor" href="#52-类型别名简化书写">#</a> 5.2 类型别名简化书写</h5><blockquote><p>没有给予简化名称的情况下， UserDaoMapper.xml 文件对应的类型名称</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUserById<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.qfedu.a_mybatis.entity.User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    ...</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><blockquote><p>给予当前 User 类型简化名称，一般都是对应的类名</p><p>在 MyBatis-config.xml 文件中添加 typeAliases 简化名称配置，要求在 properties 标签之后</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    方式一：指定数据类型 (完整的包名。类名)，指定简化名称</pre></td></tr><tr><td data-num="4"></td><td><pre>    适合于指定一个类型。</pre></td></tr><tr><td data-num="5"></td><td><pre>    --></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">&lt;!-- &lt;typeAlias type="com.qfedu.a_mybatis.entity.User" alias="User"/>--></span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    包扫描整个包内的所有类，对应的简化名称都是【类名】</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>    MyBatis 会根据当前 name 对应的包名，扫描整个的 entity 包</pre></td></tr><tr><td data-num="12"></td><td><pre>    每一个类都应类名作为简化名称。</pre></td></tr><tr><td data-num="13"></td><td><pre>    --></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.qfedu.a_mybatis.entity<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><blockquote><p>简化名称之后 UserDaoMapper.xml 的效果</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUserById<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    ...</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h5 id="53-log4j-配置和数据库操作日志"><a class="anchor" href="#53-log4j-配置和数据库操作日志">#</a> 5.3 log4j 配置和数据库操作日志</h5><blockquote><p>导入 Log4j 依赖，配置 pom.xml 文件</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!--  导入 Log4j 依赖 --></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><blockquote><p>配置 log4j.properties 文件，需要存储在 src/main/resource 文件中</p></blockquote><figure class="highlight properties"><figcaption data-lang=".properties"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># Global logging configuration</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token key attr-name">log4j.rootLogger</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG, stdout</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># MyBatis logging configuration...</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token key attr-name">log4j.logger.org.mybatis.example.BlogMapper</span><span class="token punctuation">=</span><span class="token value attr-value">TRACE</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># Console output...</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token key attr-name">log4j.appender.stdout</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.ConsoleAppender</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token key attr-name">log4j.appender.stdout.layout</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.PatternLayout</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token key attr-name">log4j.appender.stdout.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token value attr-value">%5p [%t] - %m%n</span></pre></td></tr></table></figure><table><thead><tr><th style="text-align:center">级别</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">ALL LEVEL</td><td style="text-align:left">打开所有日志记录开关；是最低等级的，用于打开所有日志记录。</td></tr><tr><td style="text-align:center">DEBUG</td><td style="text-align:left">输出调试信息；指出细粒度信息事件对调试应用程序是非常有帮助的。</td></tr><tr><td style="text-align:center">INFO</td><td style="text-align:left">输出提示信息；消息在粗粒度级别上突出强调应用程序的运行过程。</td></tr><tr><td style="text-align:center">WARN</td><td style="text-align:left">输出警告信息；表明会出现潜在错误的情形。</td></tr><tr><td style="text-align:center">ERROR</td><td style="text-align:left">输出错误信息；指出虽然发生错误事件，但仍然不影响系统的继续运行。</td></tr><tr><td style="text-align:center">FATAL</td><td style="text-align:left">输出致命错误；指出每个严重的错误事件将会导致应用程序的退出。</td></tr><tr><td style="text-align:center">OFF LEVEL</td><td style="text-align:left">关闭所有日志记录开关；是最高等级的，用于关闭所有日志记录。</td></tr></tbody></table><h4 id="6-mybatis的-crud-操作重点"><a class="anchor" href="#6-mybatis的-crud-操作重点">#</a> 6. MyBatis 的 CRUD 操作【重点】</h4><h5 id="61-查询操作"><a class="anchor" href="#61-查询操作">#</a> 6.1 查询操作</h5><h6 id="611-序号参数绑定"><a class="anchor" href="#611-序号参数绑定">#</a> 6.1.1 序号参数绑定</h6><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="2"></td><td><pre> * 根据用户 ID 和姓名，找到对应的 User 对象</pre></td></tr><tr><td data-num="3"></td><td><pre> *</pre></td></tr><tr><td data-num="4"></td><td><pre> * @param id   用户 iD</pre></td></tr><tr><td data-num="5"></td><td><pre> * @param name 用户姓名</pre></td></tr><tr><td data-num="6"></td><td><pre> * @return</pre></td></tr><tr><td data-num="7"></td><td><pre> */</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token class-name">User</span> <span class="token function">selectUser</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUser<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    按照方法参数顺序，MyBatis 会将参数给予当前 SQL 语句</pre></td></tr><tr><td data-num="4"></td><td><pre>    #&#123;arg0&#125;#&#123;arg1&#125;;</pre></td></tr><tr><td data-num="5"></td><td><pre>    --></pre></td></tr><tr><td data-num="6"></td><td><pre>    select * from tb_user where id = #&#123;arg0&#125; and username = #&#123;arg1&#125;;</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h6 id="612-注解参数绑定重点-推荐"><a class="anchor" href="#612-注解参数绑定重点-推荐">#</a> 6.1.2 注解参数绑定【重点 推荐】</h6><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num="2"></td><td><pre>@Param ("id") int id, @Param ("username") String name</pre></td></tr><tr><td data-num="3"></td><td><pre>@Param ("id") 表示之后方法参数 int id 对应 SQL 语句参数名称 id</pre></td></tr><tr><td data-num="4"></td><td><pre>@Param ("username") 表示之后方法参数 String name 对应 SQL 语句参数名称 username</pre></td></tr><tr><td data-num="5"></td><td><pre> */</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="7"></td><td><pre> * 根据用户 ID 和姓名，找到对应的 User 对象</pre></td></tr><tr><td data-num="8"></td><td><pre> *</pre></td></tr><tr><td data-num="9"></td><td><pre> * @param id   用户 ID</pre></td></tr><tr><td data-num="10"></td><td><pre> * @param name 用户姓名</pre></td></tr><tr><td data-num="11"></td><td><pre> * @return</pre></td></tr><tr><td data-num="12"></td><td><pre> */</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token class-name">User</span> <span class="token function">selectUserByIdAndName</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUserByIdAndName<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    在方法中声明的 @Param 对应的参数名称，在 SQL 语句中可以直接使用</pre></td></tr><tr><td data-num="4"></td><td><pre>     MyBatis 会根据注解声明的名称，对 SQL 语句参数进行赋值操作</pre></td></tr><tr><td data-num="5"></td><td><pre>     --></pre></td></tr><tr><td data-num="6"></td><td><pre>    select * from tb_user where id = #&#123;id&#125; and username = #&#123;username&#125;;</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h6 id="613-map-参数绑定"><a class="anchor" href="#613-map-参数绑定">#</a> 6.1.3 Map 参数绑定</h6><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="2"></td><td><pre> * 根据用户提供的 Map 双边队列键值对信息，作为查询语句参数</pre></td></tr><tr><td data-num="3"></td><td><pre> * Map&lt;String, Object> = &#123;"id"= 1&#125;</pre></td></tr><tr><td data-num="4"></td><td><pre> *</pre></td></tr><tr><td data-num="5"></td><td><pre> * @param map 用户提供的参数 Map</pre></td></tr><tr><td data-num="6"></td><td><pre> * @return User 对象</pre></td></tr><tr><td data-num="7"></td><td><pre> */</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token class-name">User</span> <span class="token function">selectUserByMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUserByMap<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">&lt;!-- 从 Map 双边队列中，根据 Key=id 找到对应的 value 作为 SQL 语句参数 --></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    select * from tb_user where id = #&#123;id&#125;</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h6 id="614-javabean-对象参数绑定"><a class="anchor" href="#614-javabean-对象参数绑定">#</a> 6.1.4 JavaBean 对象参数绑定</h6><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  * 根据用户提供的 User 对象信息，查询对应的 User 对象</pre></td></tr><tr><td data-num="3"></td><td><pre>  * User (id=1, username=null, ....)</pre></td></tr><tr><td data-num="4"></td><td><pre>  *</pre></td></tr><tr><td data-num="5"></td><td><pre>  * @param user User 对象</pre></td></tr><tr><td data-num="6"></td><td><pre>  * @return User 对象</pre></td></tr><tr><td data-num="7"></td><td><pre>  */</pre></td></tr><tr><td data-num="8"></td><td><pre> <span class="token class-name">User</span> <span class="token function">selectUserByJavaBean</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUserByJavaBean<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">&lt;!-- 根据 JavaBean 对象 User 中的成员变量 id 获取对应的 数据，作为 SQL 语句参数 --></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    select * from tb_user where id = #&#123;id&#125;</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h6 id="615-模糊查询"><a class="anchor" href="#615-模糊查询">#</a> 6.1.5 模糊查询</h6><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="2"></td><td><pre> * 模糊查询，根据指定的名称，模糊查询对应的数据内容，返回值是 List 集合中</pre></td></tr><tr><td data-num="3"></td><td><pre> * 对应 JavaBean 规范 User 对象</pre></td></tr><tr><td data-num="4"></td><td><pre> *</pre></td></tr><tr><td data-num="5"></td><td><pre> * @param name 指定的用户名</pre></td></tr><tr><td data-num="6"></td><td><pre> * @return List 集合存储 User 对象</pre></td></tr><tr><td data-num="7"></td><td><pre> */</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> <span class="token function">selectUserByName</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUserByName<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    concat('%', #&#123;username&#125;, '%');</pre></td></tr><tr><td data-num="4"></td><td><pre>    '%' + 'Java' + '%' ==> '%Java%'</pre></td></tr><tr><td data-num="5"></td><td><pre>     --></pre></td></tr><tr><td data-num="6"></td><td><pre>    select * from tb_user where username like concat('%', #&#123;username&#125;, '%');</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h5 id="62-更新操作"><a class="anchor" href="#62-更新操作">#</a> 6.2 更新操作</h5><h6 id="621-添加"><a class="anchor" href="#621-添加">#</a> 6.2.1 添加</h6><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="2"></td><td><pre> * 将 User 对象数据存储到 数据库中</pre></td></tr><tr><td data-num="3"></td><td><pre> *</pre></td></tr><tr><td data-num="4"></td><td><pre> * @param user User 对象</pre></td></tr><tr><td data-num="5"></td><td><pre> * @return 执行 SQL 语句对应数据表的影响行数</pre></td></tr><tr><td data-num="6"></td><td><pre> */</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">int</span> <span class="token function">insertUserByUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="9"></td><td><pre> * 将 Map 数据对应 User 信息数据库中</pre></td></tr><tr><td data-num="10"></td><td><pre> *</pre></td></tr><tr><td data-num="11"></td><td><pre> * @param map Map 双边队列</pre></td></tr><tr><td data-num="12"></td><td><pre> * @return 执行 SQL 语句对应数据表的影响行数</pre></td></tr><tr><td data-num="13"></td><td><pre> */</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">int</span> <span class="token function">insertUserByMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!--</span></pre></td></tr><tr><td data-num="2"></td><td><pre>添加操作对应的 XML 文件标签是 insert 标签</pre></td></tr><tr><td data-num="3"></td><td><pre>方法名称对应标签 id ，需要有 parameterType 属性，对应方法的参数类型</pre></td></tr><tr><td data-num="4"></td><td><pre>--></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>insertUserByUser<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    insert into tb_user(username, gender, password, phone, money, createTime)</pre></td></tr><tr><td data-num="7"></td><td><pre>    VALUES (#&#123;username&#125;, #&#123;gender&#125;, #&#123;password&#125;, #&#123;phone&#125;, #&#123;money&#125;, #&#123;createTime&#125;);</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">&lt;!-- parameterType 约束数据类型为 Map 双边队列类型 --></span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>insertUserByMap<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre>    insert into tb_user(username, gender, password, phone, money, createTime)</pre></td></tr><tr><td data-num="13"></td><td><pre>    VALUES (#&#123;username&#125;, #&#123;gender&#125;, #&#123;password&#125;, #&#123;phone&#125;, #&#123;money&#125;, #&#123;createTime&#125;);</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h6 id="622-更新"><a class="anchor" href="#622-更新">#</a> 6.2.2 更新</h6><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> <span class="token function">updateUserByMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateUserByMap<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    update tb_user</pre></td></tr><tr><td data-num="3"></td><td><pre>    set username = #&#123;username&#125;,</pre></td></tr><tr><td data-num="4"></td><td><pre>        password = #&#123;password&#125;</pre></td></tr><tr><td data-num="5"></td><td><pre>    where id = #&#123;id&#125;</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h6 id="623-删除"><a class="anchor" href="#623-删除">#</a> 6.2.3 删除</h6><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> <span class="token function">deleteUserById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deleteUserById<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>integer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    delete from tb_user where id = #&#123;id&#125;;</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><div class="tags"><a href="/tags/mybatis/" rel="tag"><i class="ic i-tag"></i>mybatis</a></div></div><footer><div class="meta"><span class="icon"><i class="ic i-eye"></i></span><span>此文章已被阅读次数:</span><span class="waline-pageview-count" id="twikoo_visitors" data-path="2023/10/22/springframe/spring/mybatis/mybatis/MyBatis/">正在加载...</span><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">更新于</span><time title="修改时间：2023-10-30 16:08:32" itemprop="dateModified" datetime="2023-10-30T16:08:32+08:00">2023-10-30</time></span><script type="module" data-pjax="data-pjax">import { pageviewCount } from 'https://unpkg.com/@waline/client/dist/pageview.mjs';

const path = document.getElementById("twikoo_visitors").getAttribute("data-path");
pageviewCount({
    serverURL: 'waline-biya.vercel.app',
    path: path,
});</script></div><div class="reward"><button><i class="ic i-heartbeat"></i>赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/assets/wechatpay.png" alt="biya 微信支付"><p>微信支付</p></div><div><img data-src="/assets/alipay.png" alt="biya 支付宝"><p>支付宝</p></div><div><img data-src="/assets/paypal.png" alt="biya 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者：</strong>biya<i class="ic i-at"><em>@</em></i>夢のない賢魚です</li><li class="link"><strong>本文链接：</strong><a href="https://sbysg.github.io/2023/10/22/springframe/spring/mybatis/mybatis/MyBatis/" title="mybatis">https://sbysg.github.io/2023/10/22/springframe/spring/mybatis/mybatis/MyBatis/</a></li><li class="license"><strong>版权声明：</strong>本站所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/10/22/springframe/spring/springboot/springboot-01-class/" rel="prev" itemprop="url" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipew28b65j20zk0m8hdt.jpg" title="springboot"><span class="type">上一篇</span><span class="category"><i class="ic i-flag"></i>Spring全家桶</span><h3>springboot</h3></a></div><div class="item right"><a href="/2023/10/22/backend/java/base/hello/hello-world/" rel="next" itemprop="url" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipex2cdtbj20zk0m8x6p.jpg" title="Hello World"><span class="type">下一篇</span><span class="category"><i class="ic i-flag"></i>Java基础</span><h3>Hello World</h3></a></div></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#mybatis"><span class="toc-number">1.</span> <span class="toc-text">MyBatis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%A1%86%E6%9E%B6%E5%92%8C-orm"><span class="toc-number">1.0.1.</span> <span class="toc-text">1. 框架和 ORM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-mybatis-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.0.2.</span> <span class="toc-text">2. MyBatis 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-java-maven-%E9%A1%B9%E7%9B%AE%E5%BC%95%E5%85%A5-mybatis-%E5%92%8C-%E9%85%8D%E7%BD%AE%E9%87%8D%E7%82%B9"><span class="toc-number">1.0.3.</span> <span class="toc-text">3. Java Maven 项目引入 MyBatis 和 配置【重点】</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#31-%E5%AF%BC%E5%85%A5-mybatis-%E6%A0%B8%E5%BF%83-pom-%E6%96%87%E4%BB%B6%E4%BE%9D%E8%B5%96"><span class="toc-number">1.0.3.1.</span> <span class="toc-text">3.1 导入 MyBatis 核心 POM 文件依赖</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#32-%E5%88%9B%E5%BB%BA-mybatis-xml-%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">1.0.3.2.</span> <span class="toc-text">3.2 创建 MyBatis XML 文件配置</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-mybatis-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B%E9%87%8D%E7%82%B9"><span class="toc-number">1.0.4.</span> <span class="toc-text">4. MyBatis 开发流程【重点】</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#41-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-number">1.0.4.1.</span> <span class="toc-text">4.1 创建数据表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#42-%E6%A0%B9%E6%8D%AE%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%88%9B%E5%BB%BA%E5%AF%B9%E5%BA%94%E7%9A%84%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="toc-number">1.0.4.2.</span> <span class="toc-text">4.2 根据数据表创建对应的实体类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#43-%E5%AE%8C%E6%88%90-userdao-%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.0.4.3.</span> <span class="toc-text">4.3 完成 UserDao 接口</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#44-%E9%87%8D%E7%82%B9%E7%BC%96%E5%86%99-mapperxml-%E6%96%87%E4%BB%B6"><span class="toc-number">1.0.4.4.</span> <span class="toc-text">4.4 【重点】编写 Mapper.xml 文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#45-mybatis-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%B3%A8%E5%86%8C-mapperxml-%E6%96%87%E4%BB%B6"><span class="toc-number">1.0.4.5.</span> <span class="toc-text">4.5 MyBatis 配置文件注册 Mapper.xml 文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#46-%E6%B5%8B%E8%AF%95%E9%87%8D%E7%82%B9"><span class="toc-number">1.0.4.6.</span> <span class="toc-text">4.6 测试【重点】</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-mybatis-%E7%AE%80%E5%8D%95%E4%BC%98%E5%8C%96%E5%B0%8F%E7%BB%86%E8%8A%82"><span class="toc-number">1.0.5.</span> <span class="toc-text">5. MyBatis 简单优化小细节</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#51-mapperxml-%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E8%B7%AF%E5%BE%84%E4%BF%AE%E6%94%B9"><span class="toc-number">1.0.5.1.</span> <span class="toc-text">5.1 Mapper.xml 文件存储路径修改</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#52-%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D%E7%AE%80%E5%8C%96%E4%B9%A6%E5%86%99"><span class="toc-number">1.0.5.2.</span> <span class="toc-text">5.2 类型别名简化书写</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#53-log4j-%E9%85%8D%E7%BD%AE%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E6%97%A5%E5%BF%97"><span class="toc-number">1.0.5.3.</span> <span class="toc-text">5.3 log4j 配置和数据库操作日志</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-mybatis%E7%9A%84-crud-%E6%93%8D%E4%BD%9C%E9%87%8D%E7%82%B9"><span class="toc-number">1.0.6.</span> <span class="toc-text">6. MyBatis 的 CRUD 操作【重点】</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#61-%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C"><span class="toc-number">1.0.6.1.</span> <span class="toc-text">6.1 查询操作</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#611-%E5%BA%8F%E5%8F%B7%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A"><span class="toc-number">1.0.6.1.1.</span> <span class="toc-text">6.1.1 序号参数绑定</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#612-%E6%B3%A8%E8%A7%A3%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A%E9%87%8D%E7%82%B9-%E6%8E%A8%E8%8D%90"><span class="toc-number">1.0.6.1.2.</span> <span class="toc-text">6.1.2 注解参数绑定【重点 推荐】</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#613-map-%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A"><span class="toc-number">1.0.6.1.3.</span> <span class="toc-text">6.1.3 Map 参数绑定</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#614-javabean-%E5%AF%B9%E8%B1%A1%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A"><span class="toc-number">1.0.6.1.4.</span> <span class="toc-text">6.1.4 JavaBean 对象参数绑定</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#615-%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.6.1.5.</span> <span class="toc-text">6.1.5 模糊查询</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#62-%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C"><span class="toc-number">1.0.6.2.</span> <span class="toc-text">6.2 更新操作</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#621-%E6%B7%BB%E5%8A%A0"><span class="toc-number">1.0.6.2.1.</span> <span class="toc-text">6.2.1 添加</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#622-%E6%9B%B4%E6%96%B0"><span class="toc-number">1.0.6.2.2.</span> <span class="toc-text">6.2.2 更新</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#623-%E5%88%A0%E9%99%A4"><span class="toc-number">1.0.6.2.3.</span> <span class="toc-text">6.2.3 删除</span></a></li></ol></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2023/10/22/springframe/spring/mybatis/mybatis-plus/3-02Mybatis-plus/" rel="bookmark" title="mybatis-plus">mybatis-plus</a></li><li class="active"><a href="/2023/10/22/springframe/spring/mybatis/mybatis/MyBatis/" rel="bookmark" title="mybatis">mybatis</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="biya" data-src="/assets/avatar.jpg"><p class="name" itemprop="name">biya</p><div class="description" itemprop="description">摸鱼之道，就在其中</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">13</span><span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">12</span><span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">12</span><span class="name">标签</span></a></div></nav><div class="social"><a href="https://github.com/sbysg" class="item github" rel="noopener" title="https:&#x2F;&#x2F;github.com&#x2F;sbysg" target="_blank"><i class="ic i-github"></i></a><a href="https://www.zhihu.com/people/xin-han-91-91" class="item zhihu" rel="noopener" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;xin-han-91-91" target="_blank"><i class="ic i-zhihu"></i></a><a href="https://music.163.com/#/user/home?id=1657896798" class="item music" rel="noopener" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;1657896798" target="_blank"><i class="ic i-cloud-music"></i></a><a href="https://weibo.com/u/6667154460" class="item weibo" rel="noopener" title="https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;6667154460" target="_blank"><i class="ic i-weibo"></i></a><a href="https://about.me/biyahan" class="item about" rel="noopener" title="https:&#x2F;&#x2F;about.me&#x2F;biyahan" target="_blank"><i class="ic i-address-card"></i></a><a href="https://t.me/kill_biya" class="item telegram" rel="noopener" title="https:&#x2F;&#x2F;t.me&#x2F;kill_biya" target="_blank"><i class="ic i-paper-plane"></i></a><a href="https://stackoverflow.com/users/22783860/kill-biya/" class="item stackoverflow" rel="noopener" title="https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;22783860&#x2F;kill-biya&#x2F;" target="_blank"><i class="ic i-stack-overflow"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-user"></i>关于</a><ul class="submenu"><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于本站</a></li><li class="item"><a href="/admiration/" rel="section"><i class="ic i-coffee"></i>赞赏博主</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友達</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/10/22/backend/java/base/hello/hello-world/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/10/22/springframe/spring/springboot/springboot-01-class/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/backend/" title="分类于Java后端">Java后端</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/" title="分类于Java">Java</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/base/" title="分类于Java基础">Java基础</a></div><span><a href="/2023/10/22/backend/java/base/%E7%88%AA%E5%93%87%E5%A7%A8%E5%A7%A8/">爪哇基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/third-apis/" title="分类于第三方api">第三方api</a></div><span><a href="/2023/10/22/third-apis/minio/%E4%B8%8A%E9%97%A8%E5%85%BB%E8%80%81-%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD-%E7%9F%AD%E4%BF%A1/">sms</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/springframe/" title="分类于Java框架">Java框架</a><i class="ic i-angle-right"></i><a href="/categories/springframe/spring/" title="分类于Spring全家桶">Spring全家桶</a><i class="ic i-angle-right"></i><a href="/categories/springframe/spring/mybatis/" title="分类于Mybatis">Mybatis</a></div><span><a href="/2023/10/22/springframe/spring/mybatis/mybatis/MyBatis/">mybatis</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/springframe/" title="分类于Java框架">Java框架</a><i class="ic i-angle-right"></i><a href="/categories/springframe/spring/" title="分类于Spring全家桶">Spring全家桶</a></div><span><a href="/2023/10/22/springframe/spring/springboot/springboot-01-class/">springboot</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/database/" title="分类于数据库">数据库</a></div><span><a href="/2023/10/22/database/no-sql/redis/Java%E9%9D%A2%E8%AF%95%E9%A2%98-07-Redis/">redis</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/backend/" title="分类于Java后端">Java后端</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/" title="分类于Java">Java</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/base/" title="分类于Java基础">Java基础</a></div><span><a href="/2023/10/22/backend/java/base/hello/hello-world/">Hello World</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/backend/" title="分类于Java后端">Java后端</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/" title="分类于Java">Java</a><i class="ic i-angle-right"></i><a href="/categories/backend/java/base/" title="分类于Java基础">Java基础</a></div><span><a href="/2023/10/22/backend/java/base/first/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/">hi biya</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/linux/" title="分类于Linux">Linux</a><i class="ic i-angle-right"></i><a href="/categories/linux/docker/" title="分类于Docker">Docker</a></div><span><a href="/2023/10/22/linux/docker/rabbitMQ/RabbitMQ/">rabbitMQ</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/linux/" title="分类于Linux">Linux</a><i class="ic i-angle-right"></i><a href="/categories/linux/docker/" title="分类于Docker">Docker</a></div><span><a href="/2023/10/22/linux/docker/docker/Docker/">docker</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/frontend/" title="分类于前端">前端</a><i class="ic i-angle-right"></i><a href="/categories/frontend/vue/" title="分类于Vue">Vue</a></div><span><a href="/2023/10/22/frontend/vue/vue3/Vue3%E9%80%9F%E6%88%90/">vue3</a></span></li></ul></div><div class="rpost pjax"><h2>最新评论</h2><ul class="leancloud-recent-comment" id="new-comment"></ul></div></div><div class="status"><div class="copyright"><span itemprop="copyrightYear">2023</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">biya @ Ya Hallo</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="站点总字数">448k 字</span><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="站点阅读时长">6:47</span></div><div class="powered-by">基于 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & Theme.<a href="https://github.com/theme-shoka-x/hexo-theme-shokaX/" rel="noopener" target="_blank">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/10/22/springframe/spring/mybatis/mybatis/MyBatis/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,chart:!1,copy_tex:!1,katex:!1,mermaid:!1,audio:["https://music.163.com/song?id=1387098940"],fancybox:!0,nocopy:!1,outime:!0,template:'<div class="note warning"><p><span class="label warning">文章时效性提示</span><br>这是一篇发布于 {{publish}} 天前，最后一次更新在 {{updated}} 天前的文章，部分信息可能已经发生改变，请注意甄别。</p></div>',quiz:{choice:"单选题",multiple:"多选题",true_false:"判断题",essay:"问答题",gap_fill:"填空题",mistake:"错题备注"},ignores:[a=>a.includes("#"),a=>new RegExp(LOCAL.path+"$").test(a),[]]}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=default,fetch"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/pace/1.0.2/pace.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/algoliasearch/4.12.1/algoliasearch-lite.umd.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/instantsearch.js/4.39.0/instantsearch.production.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/quicklink/2.2.0/quicklink.umd.min.js"></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/??jquery/3.5.1/jquery.min.js,fancybox/3.5.7/jquery.fancybox.min.js,justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" async></script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/KaTeX/0.15.2/contrib/copy-tex.min.js" async></script><script src="/js/app.js?v=0.3.6"></script><script data-pjax="data-pjax">var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?true",e.async=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><script>!function(t,e,n,c,r,a){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(c)).async=1,r.src="https://www.clarity.ms/tag/true",(a=e.getElementsByTagName(c)[0]).parentNode.insertBefore(r,a)}(window,document,"clarity","script")</script><script async src="https://www.googletagmanager.com/gtag/js?id=true"></script><script data-pjax="data-pjax">function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","true")</script></body></html><!-- rebuild by hexo-renderer-multi-next-markdown-it -->